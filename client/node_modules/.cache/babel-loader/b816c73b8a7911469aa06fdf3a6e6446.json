{"ast":null,"code":"import React from 'react';\nimport PropTypes from 'prop-types';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar Observable = function () {\n  function Observable() {\n    classCallCheck(this, Observable);\n    this.observers = [];\n  }\n\n  createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(fn) {\n      this.observers.push(fn);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(fn) {\n      if (fn) {\n        this.observers = this.observers.filter(function (item) {\n          if (item !== fn) {\n            return item;\n          }\n\n          return null;\n        });\n      } else {\n        this.observers = [];\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next(o, thisObj) {\n      var scope = thisObj || window;\n      this.observers.forEach(function (item) {\n        item.call(scope, o);\n      });\n    }\n  }]);\n  return Observable;\n}();\n/** Converts a promise into Observable\n * @param {Promise} r\n * @param {(value: any) => any} cb\n * @returns {Observable}\n */\n\n\nfunction fromPromise(r, cb) {\n  var observable = new Observable();\n  r.then(function (value) {\n    var mappedValue = function mappedValue(value) {\n      return cb ? cb(value) : value;\n    };\n\n    observable.next(mappedValue(value));\n  }, function (error) {\n    observable.next(error);\n  }).then(null, function (error) {\n    throw error;\n  });\n  return observable;\n}\n/**\n * Checks if an object is a Promise\n * @param {Observable} obj\n * @returns {boolean}\n */\n\n\nfunction isPromise(obj) {\n  return !!obj && typeof obj.then === \"function\";\n}\n/**\n * Checks if an object is a Function\n * @param {any} obj\n * @returns {boolean}\n */\n\n\nfunction isFunction(obj) {\n  return \"function\" === typeof obj;\n}\n/**\n * Checks if an object is Observable\n * @param {Observable} obj\n * @returns {boolean}\n */\n\n\nfunction isObservable(obj) {\n  return !!obj && typeof obj.subscribe === \"function\";\n}\n/**\n * Converts an object into Observable\n * @param {any} r\n * @returns {Observable}\n */\n\n\nfunction toObservable(r) {\n  var obs = isPromise(r) ? fromPromise(r) : r;\n\n  if (!isObservable(obs)) {\n    throw new Error(\"Expected validator to return Promise or Observable.\");\n  }\n\n  return obs;\n}\n\nvar isReactNative = function isReactNative() {\n  return typeof window !== \"undefined\" && window.navigator && window.navigator.product && window.navigator.product === \"ReactNative\";\n};\n\nvar isEvent = function isEvent(candidate) {\n  return !!(candidate && candidate.stopPropagation && candidate.preventDefault);\n};\n\nvar controlsToBeMap = {\n  ReactNative: {\n    switch: {\n      value: \"value\",\n      onValueChange: \"onChange\",\n      onBlur: \"onBlur\",\n      onFocus: \"onFocus\",\n      disabled: \"disabled\"\n    },\n    default: {\n      value: \"value\",\n      onChange: \"onChange\",\n      onBlur: \"onBlur\",\n      onFocus: \"onFocus\",\n      editable: \"enabled\"\n    }\n  },\n  default: {\n    value: \"value\",\n    onChange: \"onChange\",\n    onBlur: \"onBlur\",\n    onFocus: \"onFocus\",\n    disabled: \"disabled\"\n  }\n};\n\nvar getAbsoluteValue = function getAbsoluteValue(value) {\n  return value === undefined || value === null ? \"\" : value;\n};\n\nvar getInputControls = function getInputControls(inputType) {\n  return isReactNative() ? controlsToBeMap.ReactNative[inputType] || controlsToBeMap.ReactNative.default : controlsToBeMap.default;\n};\n\nfunction getHandler(inputType, value, control) {\n  var controlObject = {};\n  var inputControls = getInputControls(inputType);\n  Object.keys(inputControls).forEach(function (key) {\n    var controlProperty = null;\n\n    if (key === \"value\") {\n      if (control.updateOn !== \"change\") {\n        controlProperty = getAbsoluteValue(control._pendingValue);\n      } else {\n        controlProperty = getAbsoluteValue(control.value);\n      }\n    } else {\n      controlProperty = control[inputControls[key]];\n    }\n\n    controlObject[key] = controlProperty;\n  });\n  var mappedObject = controlObject;\n\n  switch (inputType) {\n    case \"checkbox\":\n      mappedObject[\"checked\"] = !!mappedObject.value;\n      mappedObject[\"type\"] = inputType;\n      break;\n\n    case \"radio\":\n      mappedObject[\"checked\"] = mappedObject.value === value;\n      mappedObject.value = value;\n      mappedObject[\"type\"] = inputType;\n      break;\n\n    default:\n  }\n\n  return mappedObject;\n}\n/**\n * Display warning messages\n * @param {condition} any\n * @param {message} string\n * @returns {void}\n */\n\n\nfunction warning(condition, message) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!condition) {\n      console.error(\"Warning: \" + message);\n    }\n  }\n}\n/**\n * Generates the unique key for react elements\n * @param {*} pre\n */\n\n\nvar generateKey = function generateKey(pre) {\n  return pre + \"_\" + new Date().getTime();\n};\n\nvar FIELD_PROPS = [\"strict\", \"render\", \"name\", \"index\", \"control\", \"formState\", \"options\", \"parent\", \"meta\"];\n\nvar mapConfigToFieldProps = function mapConfigToFieldProps(config) {\n  var props = {};\n\n  if (config) {\n    Object.keys(config).forEach(function (configKey) {\n      if (FIELD_PROPS.indexOf(configKey) > -1) {\n        props[configKey] = config[configKey];\n      }\n    });\n  }\n\n  return props;\n};\n\nfunction isEmptyInputValue(value) {\n  return value == null || value.length === 0;\n}\n\nfunction isPresent(o) {\n  return o != null;\n}\n\nfunction _mergeErrors(arrayOfErrors) {\n  var res = arrayOfErrors.reduce(function (res, errors) {\n    return errors != null ? Object.assign({}, res, errors) : res;\n  }, {});\n  return Object.keys(res).length === 0 ? null : res;\n}\n\nfunction _executeValidators(control, validators) {\n  return validators.map(function (v) {\n    return v(control);\n  });\n}\n\nfunction _executeAsyncValidators(control, validators) {\n  return validators.map(function (v) {\n    return v(control);\n  });\n}\n\nvar EMAIL_REGEXP = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nvar Validators = function () {\n  function Validators() {\n    classCallCheck(this, Validators);\n  }\n\n  createClass(Validators, null, [{\n    key: 'min',\n\n    /**\n     * Validator that requires controls to have a value greater than a number.\n     */\n    value: function min(_min) {\n      return function (control) {\n        if (isEmptyInputValue(control.value) || isEmptyInputValue(_min)) {\n          return null; // don't validate empty values to allow optional controls\n        }\n\n        var parsedValue = parseFloat(control.value);\n        return !isNaN(parsedValue) && parsedValue < _min ? {\n          min: {\n            min: _min,\n            actual: parsedValue\n          }\n        } : null;\n      };\n    }\n    /**\n     * Validator that requires controls to have a value less than a number.\n     */\n\n  }, {\n    key: 'max',\n    value: function max(_max) {\n      return function (control) {\n        if (isEmptyInputValue(control.value) || isEmptyInputValue(_max)) {\n          return null; // don't validate empty values to allow optional controls\n        }\n\n        var parsedValue = parseFloat(control.value);\n        return !isNaN(parsedValue) && parsedValue > _max ? {\n          max: {\n            max: _max,\n            actual: parsedValue\n          }\n        } : null;\n      };\n    }\n    /**\n     * Validator that requires controls to have a non-empty value.\n     */\n\n  }, {\n    key: 'required',\n    value: function required(control) {\n      return isEmptyInputValue(control.value) ? {\n        required: true\n      } : null;\n    }\n    /**\n     * Validator that requires control value to be true.\n     */\n\n  }, {\n    key: 'requiredTrue',\n    value: function requiredTrue(control) {\n      return control.value === true ? null : {\n        required: true\n      };\n    }\n    /**\n     * Validator that performs email validation.\n     */\n\n  }, {\n    key: 'email',\n    value: function email(control) {\n      if (isEmptyInputValue(control.value)) {\n        return null;\n      }\n\n      return EMAIL_REGEXP.test(control.value) ? null : {\n        email: true\n      };\n    }\n    /**\n     * Validator that requires controls to have a value of a minimum length.\n     */\n\n  }, {\n    key: 'minLength',\n    value: function minLength(_minLength) {\n      return function (control) {\n        if (isEmptyInputValue(control.value)) {\n          return null; // don't validate empty values to allow optional controls\n        }\n\n        var length = control.value ? control.value.length : 0;\n        return length < _minLength ? {\n          minLength: {\n            requiredLength: _minLength,\n            actualLength: length\n          }\n        } : null;\n      };\n    }\n    /**\n     * Validator that requires controls to have a value of a maximum length.\n     */\n\n  }, {\n    key: 'maxLength',\n    value: function maxLength(_maxLength) {\n      return function (control) {\n        var length = control.value ? control.value.length : 0;\n        return length > _maxLength ? {\n          maxLength: {\n            requiredLength: _maxLength,\n            actualLength: length\n          }\n        } : null;\n      };\n    }\n    /**\n     * Validator that requires a control to match a regex to its value.\n     */\n\n  }, {\n    key: 'pattern',\n    value: function pattern(_pattern) {\n      if (!_pattern) return null;\n      var regex = void 0;\n      var regexStr = void 0;\n\n      if (typeof _pattern === 'string') {\n        regexStr = '^' + _pattern + '$';\n        regex = new RegExp(regexStr);\n      } else {\n        regexStr = _pattern.toString();\n        regex = _pattern;\n      }\n\n      return function (control) {\n        if (isEmptyInputValue(control.value)) {\n          return null; // don't validate empty values to allow optional controls\n        }\n\n        return regex.test(control.value) ? null : {\n          pattern: {\n            requiredPattern: regexStr,\n            actualValue: control.value\n          }\n        };\n      };\n    }\n    /**\n     * Compose multiple validators into a single function that returns the union\n     * of the individual error maps.\n     * @param {(Function|null|undefined)[]|null} validators\n     * @return {Function|null}\n     */\n\n  }, {\n    key: 'compose',\n    value: function compose(validators) {\n      if (!validators) return null;\n      var presentValidators = validators.filter(isPresent);\n      if (presentValidators.length === 0) return null;\n      return function (control) {\n        return _mergeErrors(_executeValidators(control, presentValidators));\n      };\n    }\n    /**\n     * Compose multiple async validators into a single function that returns the union\n     * of the individual error maps.\n     * @param {(Function|null|undefined)[]|null} validators\n     * @return {Function|null}\n     */\n\n  }, {\n    key: 'composeAsync',\n    value: function composeAsync(validators) {\n      if (!validators) return null;\n      var presentValidators = validators.filter(isPresent);\n      if (presentValidators.length === 0) return null;\n      return function (control) {\n        var observables = _executeAsyncValidators(control, presentValidators);\n\n        return fromPromise(Promise.all(observables), _mergeErrors);\n      };\n    }\n  }]);\n  return Validators;\n}();\n/**\n * Indicates that a FormControl is valid, i.e. that no errors exist in the input value.\n */\n\n\nvar VALID = \"VALID\";\n/**\n * Indicates that a FormControl is invalid, i.e. that an error exists in the input value.\n */\n\nvar INVALID = \"INVALID\";\n/**\n * Indicates that a FormControl is pending, i.e. that async validation is occurring and\n * errors are not yet available for the input value.\n */\n\nvar PENDING = \"PENDING\";\n/**\n * Indicates that a FormControl is disabled, i.e. that the control is exempt from ancestor\n * calculations of validity or value.\n */\n\nvar DISABLED = \"DISABLED\";\n/**\n * Calculates the control's value according to the input type\n * @param {any} event\n * @return {any}\n */\n\nfunction getControlValue(event) {\n  if (isEvent(event)) {\n    switch (event.target.type) {\n      case \"checkbox\":\n        return event.target.checked;\n\n      case \"select-multiple\":\n        if (event.target.options) {\n          var options = event.target.options;\n          var value = [];\n\n          for (var i = 0, l = options.length; i < l; i++) {\n            if (options[i].selected) {\n              value.push(options[i].value);\n            }\n          }\n\n          return value;\n        }\n\n        return event.target.value;\n\n      default:\n        return isReactNative() ? event.nativeEvent.text : event.target.value;\n    }\n  }\n\n  return event;\n}\n/**\n * @param {AbstractControl} control\n * @param {(String|Number)[]|String} path\n * @param {String} delimiter\n */\n\n\nfunction _find(control, path, delimiter) {\n  if (path == null) return null;\n\n  if (!(path instanceof Array)) {\n    path = path.split(delimiter);\n  }\n\n  if (path instanceof Array && path.length === 0) return null;\n  return path.reduce(function (v, name) {\n    if (v instanceof FormGroup) {\n      return v.controls[name] || null;\n    }\n\n    if (v instanceof FormArray) {\n      return v.at(name) || null;\n    }\n\n    return null;\n  }, control);\n}\n/**\n * @param {{validators: Function|Function[]|null, asyncValidators: Function|Function[]|null, updateOn: 'change' | 'blur' | 'submit'}} validatorOrOpts\n * @return {Boolean}\n */\n\n\nfunction isOptionsObj(validatorOrOpts) {\n  return validatorOrOpts != null && !Array.isArray(validatorOrOpts) && (typeof validatorOrOpts === \"undefined\" ? \"undefined\" : _typeof(validatorOrOpts)) === \"object\";\n}\n/**\n * @param {Function} validator\n * @return {Function}\n */\n\n\nfunction normalizeValidator(validator) {\n  if (validator.validate) {\n    return function (c) {\n      return validator.validate(c);\n    };\n  }\n\n  return validator;\n}\n/**\n * @param {Function} validator\n * @return {Function}\n */\n\n\nfunction normalizeAsyncValidator(validator) {\n  if (validator.validate) {\n    return function (c) {\n      return validator.validate(c);\n    };\n  }\n\n  return validator;\n}\n/**\n * @param {Function[]} validators\n * @return {Function|null}\n */\n\n\nfunction composeValidators(validators) {\n  return validators != null ? Validators.compose(validators.map(normalizeValidator)) : null;\n}\n/**\n * @param {Function[]} validators\n * @return {Function|null}\n */\n\n\nfunction composeAsyncValidators(validators) {\n  return validators != null ? Validators.composeAsync(validators.map(normalizeAsyncValidator)) : null;\n}\n\nfunction coerceToValidator(validatorOrOpts) {\n  var validator = isOptionsObj(validatorOrOpts) ? validatorOrOpts.validators : validatorOrOpts;\n  return Array.isArray(validator) ? composeValidators(validator) : validator || null;\n}\n\nfunction coerceToAsyncValidator(asyncValidator, validatorOrOpts) {\n  var origAsyncValidator = isOptionsObj(validatorOrOpts) ? validatorOrOpts.asyncValidators : asyncValidator;\n  return Array.isArray(origAsyncValidator) ? composeAsyncValidators(origAsyncValidator) : origAsyncValidator || null;\n}\n/**\n * This is the base class for `FormControl`, `FormGroup`, and\n * `FormArray`.\n *\n * It provides some of the shared behavior that all controls and groups of controls have, like\n * running validators, calculating status, and resetting state. It also defines the properties\n * that are shared between all sub-classes, like `value`, `valid`, and `dirty`. It shouldn't be\n * instantiated directly.\n */\n\n\nvar AbstractControl = function () {\n  /**\n   * @param {Function|null} validator\n   * @param {Function|null} asyncValidator\n   */\n  function AbstractControl(validator, asyncValidator) {\n    classCallCheck(this, AbstractControl);\n    this.validator = validator;\n    this.asyncValidator = asyncValidator;\n    /**\n     * A control is marked `touched` once the user has triggered\n     * a `blur` event on it.\n     */\n\n    this.touched = false;\n    this.submitted = false;\n    /**\n     * A control is `pristine` if the user has not yet changed\n     * the value in the UI.\n     *\n     * Note that programmatic changes to a control's value will\n     * *not* mark it dirty.\n     */\n\n    this.pristine = true;\n    this.meta = {};\n    this._pendingChange = this.updateOn !== \"change\";\n    this._pendingDirty = false;\n    this._pendingTouched = false;\n    this._onDisabledChange = [];\n    this.hasError = this.hasError.bind(this);\n    this.getError = this.getError.bind(this);\n    this.reset = this.reset.bind(this);\n    this.get = this.get.bind(this);\n    this.patchValue = this.patchValue.bind(this);\n    this.setValue = this.setValue.bind(this);\n  }\n  /**\n   * Returns the update strategy of the `AbstractControl` (i.e.\n   * the event on which the control will update itself).\n   * Possible values: `'change'` (default) | `'blur'` | `'submit'`\n   */\n\n\n  createClass(AbstractControl, [{\n    key: \"setInitialStatus\",\n    value: function setInitialStatus() {\n      if (this.disabled) {\n        this.status = DISABLED;\n      } else {\n        this.status = VALID;\n      }\n    }\n    /**\n     * Disables the control. This means the control will be exempt from validation checks and\n     * excluded from the aggregate value of any parent. Its status is `DISABLED`.\n     *\n     * If the control has children, all children will be disabled to maintain the model.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.status = DISABLED;\n      this.errors = null;\n\n      this._forEachChild(function (control) {\n        control.disable({\n          onlySelf: true\n        });\n      });\n\n      this._updateValue();\n\n      if (opts.emitEvent !== false) {\n        this.valueChanges.next(this.value);\n        this.statusChanges.next(this.status);\n        this.stateChanges.next();\n      }\n\n      this._updateAncestors(!!opts.onlySelf);\n\n      this._onDisabledChange.forEach(function (changeFn) {\n        return changeFn(true);\n      });\n    }\n    /**\n     * Enables the control. This means the control will be included in validation checks and\n     * the aggregate value of its parent. Its status is re-calculated based on its value and\n     * its validators.\n     *\n     * If the control has children, all children will be enabled.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.status = VALID;\n\n      this._forEachChild(function (control) {\n        control.enable({\n          onlySelf: true\n        });\n      });\n\n      this.updateValueAndValidity({\n        onlySelf: true,\n        emitEvent: opts.emitEvent\n      });\n\n      this._updateAncestors(!!opts.onlySelf);\n\n      this._onDisabledChange.forEach(function (changeFn) {\n        return changeFn(false);\n      });\n    }\n    /**\n     * Re-calculates the value and validation status of the control.\n     *\n     * By default, it will also update the value and validity of its ancestors.\n     * @param {{onlySelf: Boolean, emitEvent: Booelan}} options\n     */\n\n  }, {\n    key: \"updateValueAndValidity\",\n    value: function updateValueAndValidity() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.setInitialStatus();\n\n      this._updateValue();\n\n      var shouldValidate = this.enabled && (this.updateOn !== \"submit\" || this.submitted);\n\n      if (shouldValidate) {\n        this._cancelExistingSubscription();\n\n        this.errors = this._runValidator();\n        this.status = this._calculateStatus();\n\n        if (this.status === VALID || this.status === PENDING) {\n          this._runAsyncValidator(true);\n        }\n      }\n\n      if (options.emitEvent !== false) {\n        this.valueChanges.next(this.value);\n        this.statusChanges.next(this.status);\n        this.stateChanges.next();\n      }\n\n      if (this.parent && !options.onlySelf) {\n        this.parent.updateValueAndValidity(options);\n      }\n    }\n    /**\n     * Marks the control as `touched`.\n     *\n     * This will also mark all direct ancestors as `touched` to maintain\n     * the model.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsTouched\",\n    value: function markAsTouched() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.touched = true;\n\n      if (this._parent && !opts.onlySelf) {\n        this._parent.markAsTouched(opts);\n      }\n\n      if (opts.emitEvent) {\n        this.stateChanges.next();\n      }\n    }\n    /**\n     * Marks the control as `submitted`.\n     *\n     * If the control has any children, it will also mark all children as `submitted`\n     * @param {{emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsSubmitted\",\n    value: function markAsSubmitted() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.submitted = true;\n\n      this._forEachChild(function (control) {\n        control.markAsSubmitted();\n      });\n\n      if (opts.emitEvent !== false) {\n        this.stateChanges.next();\n      }\n    }\n    /**\n     * Marks the control as `unsubmitted`.\n     *\n     * If the control has any children, it will also mark all children as `unsubmitted`.\n     *\n     * @param {{emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsUnsubmitted\",\n    value: function markAsUnsubmitted() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.submitted = false;\n\n      this._forEachChild(function (control) {\n        control.markAsUnsubmitted({\n          onlySelf: true\n        });\n      });\n\n      if (opts.emitEvent !== false) {\n        this.stateChanges.next();\n      }\n    }\n    /**\n     * Marks the control as `pristine`.\n     *\n     * If the control has any children, it will also mark all children as `pristine`\n     * to maintain the model, and re-calculate the `pristine` status of all parent\n     * controls.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsPristine\",\n    value: function markAsPristine() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.pristine = true;\n      this._pendingDirty = false;\n\n      if (opts.emitEvent) {\n        this.stateChanges.next();\n      }\n\n      this._forEachChild(function (control) {\n        control.markAsPristine({\n          onlySelf: true\n        });\n      });\n\n      if (this._parent && !opts.onlySelf) {\n        this._parent._updatePristine(opts);\n      }\n    }\n    /**\n     * Marks the control as `untouched`.\n     *\n     * If the control has any children, it will also mark all children as `untouched`\n     * to maintain the model, and re-calculate the `touched` status of all parent\n     * controls.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsUntouched\",\n    value: function markAsUntouched() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.touched = false;\n      this._pendingTouched = false;\n\n      this._forEachChild(function (control) {\n        control.markAsUntouched({\n          onlySelf: true\n        });\n      });\n\n      if (this._parent && !opts.onlySelf) {\n        this._parent._updateTouched(opts);\n      }\n\n      if (opts.emitEvent) {\n        this.stateChanges.next();\n      }\n    }\n    /**\n     * Marks the control as `dirty`.\n     *\n     * This will also mark all direct ancestors as `dirty` to maintain\n     * the model.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsDirty\",\n    value: function markAsDirty() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.pristine = false;\n\n      if (opts.emitEvent) {\n        this.stateChanges.next();\n      }\n\n      if (this._parent && !opts.onlySelf) {\n        this._parent.markAsDirty(opts);\n      }\n    }\n    /**\n     * Marks the control as `pending`.\n     * @param {{onlySelf: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsPending\",\n    value: function markAsPending() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.status = PENDING;\n\n      if (this._parent && !opts.onlySelf) {\n        this._parent.markAsPending(opts);\n      }\n    }\n    /**\n     * Sets the synchronous validators that are active on this control.  Calling\n     * this will overwrite any existing sync validators.\n     * @param {Function|Function[]|null} newValidator\n     * @return {void}\n     */\n\n  }, {\n    key: \"setValidators\",\n    value: function setValidators(newValidator) {\n      this.validator = coerceToValidator(newValidator);\n    }\n    /**\n     * Sets the async validators that are active on this control. Calling this\n     * will overwrite any existing async validators.\n     */\n\n  }, {\n    key: \"setAsyncValidators\",\n    value: function setAsyncValidators(newValidator) {\n      this.asyncValidator = coerceToAsyncValidator(newValidator);\n    }\n    /**\n     * Sets errors on a form control.\n     *\n     * This is used when validations are run manually by the user, rather than automatically.\n     *\n     * Calling `setErrors` will also update the validity of the parent control.\n     *\n     * ### Example\n     *\n     * ```\n     * const login = new FormControl(\"someLogin\");\n     * login.setErrors({\n     *   \"notUnique\": true\n     * });\n     *\n     * ```\n     * @param {{onlySelf: boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"setErrors\",\n    value: function setErrors(errors) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.errors = errors;\n\n      this._updateControlsErrors(opts.emitEvent !== false);\n    }\n    /**\n     * Retrieves a child control given the control's name or path.\n     *\n     * Paths can be passed in as an array or a string delimited by a dot.\n     *\n     * To get a control nested within a `person` sub-group:\n     *\n     * * `this.form.get('person.name');`\n     *\n     * -OR-\n     *\n     * * `this.form.get(['person', 'name']);`\n     * @param {(String|Number)[]|String} path\n     * @return {AbstractControl|null}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get$$1(path) {\n      return _find(this, path, \".\");\n    }\n    /**\n     * Returns error data if the control with the given path has the error specified. Otherwise\n     * returns null or undefined.\n     *\n     * If no path is given, it checks for the error on the present control.\n     * @param {String} errorCode\n     * @param {(String|Number)[]|String} path\n     */\n\n  }, {\n    key: \"getError\",\n    value: function getError(errorCode, path) {\n      var control = path ? this.get(path) : this;\n      return control && control.errors ? control.errors[errorCode] : null;\n    }\n    /**\n     * Returns true if the control with the given path has the error specified. Otherwise\n     * returns false.\n     *\n     * If no path is given, it checks for the error on the present control.\n     * @param {String} errorCode\n     * @param {(String|Number)[]|String} path\n     * @return {Booelan}\n     */\n\n  }, {\n    key: \"hasError\",\n    value: function hasError(errorCode, path) {\n      return !!this.getError(errorCode, path);\n    }\n    /**\n     * Empties out the sync validator list.\n     */\n\n  }, {\n    key: \"clearValidators\",\n    value: function clearValidators() {\n      this.validator = null;\n    }\n    /**\n     * Empties out the async validator list.\n     */\n\n  }, {\n    key: \"clearAsyncValidators\",\n    value: function clearAsyncValidators() {\n      this.asyncValidator = null;\n    }\n    /**\n     * @param {FormGroup|FormArray} parent\n     * @return {Void}\n     */\n\n  }, {\n    key: \"setParent\",\n    value: function setParent(parent) {\n      this._parent = parent;\n    }\n    /**\n     * @param {Boolean} onlySelf\n     */\n\n  }, {\n    key: \"_updateAncestors\",\n    value: function _updateAncestors(onlySelf) {\n      if (this._parent && !onlySelf) {\n        this._parent.updateValueAndValidity();\n\n        this._parent._updatePristine();\n\n        this._parent._updateTouched();\n      }\n    }\n    /**\n     * @param {String} status\n     * @return {Booelan}\n     */\n\n  }, {\n    key: \"_anyControlsHaveStatus\",\n    value: function _anyControlsHaveStatus(status) {\n      return this._anyControls(function (control) {\n        return control.status === status;\n      });\n    }\n    /**\n     * @return {String}\n     */\n\n  }, {\n    key: \"_calculateStatus\",\n    value: function _calculateStatus() {\n      if (this._allControlsDisabled()) return DISABLED;\n      if (this.errors) return INVALID;\n      if (this._anyControlsHaveStatus(PENDING)) return PENDING;\n      if (this._anyControlsHaveStatus(INVALID)) return INVALID;\n      return VALID;\n    }\n  }, {\n    key: \"_runValidator\",\n    value: function _runValidator() {\n      return this.validator ? this.validator(this) : null;\n    }\n    /**\n     * @param {Booelan} emitEvent\n     * @return {void}\n     */\n\n  }, {\n    key: \"_runAsyncValidator\",\n    value: function _runAsyncValidator(emitEvent) {\n      var _this = this;\n\n      if (this.asyncValidator) {\n        this.status = PENDING;\n        var obs = toObservable(this.asyncValidator(this));\n        this._asyncValidationSubscription = obs.subscribe(function (errors) {\n          return _this.setErrors(errors, {\n            emitEvent: emitEvent\n          });\n        });\n      }\n    }\n  }, {\n    key: \"_cancelExistingSubscription\",\n    value: function _cancelExistingSubscription() {\n      if (this._asyncValidationSubscription) {\n        this._asyncValidationSubscription.unsubscribe();\n      }\n    }\n    /**\n     * @param {{onlySelf: boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"_updatePristine\",\n    value: function _updatePristine() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.pristine = !this._anyControlsDirty();\n\n      if (this._parent && !opts.onlySelf) {\n        this._parent._updatePristine(opts);\n      }\n    }\n    /**\n     * @param {{onlySelf: boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"_updateTouched\",\n    value: function _updateTouched() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.touched = this._anyControlsTouched();\n\n      if (this._parent && !opts.onlySelf) {\n        this._parent._updateTouched(opts);\n      }\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_anyControlsDirty\",\n    value: function _anyControlsDirty() {\n      return this._anyControls(function (control) {\n        return control.dirty;\n      });\n    }\n  }, {\n    key: \"_anyControlsUnsubmitted\",\n    value: function _anyControlsUnsubmitted() {\n      return this._anyControls(function (control) {\n        return !control.submitted;\n      });\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_anyControlsTouched\",\n    value: function _anyControlsTouched() {\n      return this._anyControls(function (control) {\n        return control.touched;\n      });\n    }\n    /**\n     * @param {Booelan} emitEvent\n     * @return {void}\n     */\n\n  }, {\n    key: \"_updateControlsErrors\",\n    value: function _updateControlsErrors(emitEvent) {\n      this.status = this._calculateStatus();\n\n      if (emitEvent) {\n        this.statusChanges.next();\n        this.stateChanges.next();\n      }\n\n      if (this._parent) {\n        this._parent._updateControlsErrors(emitEvent);\n      }\n    }\n  }, {\n    key: \"_initObservables\",\n    value: function _initObservables() {\n      this.valueChanges = new Observable();\n      this.statusChanges = new Observable();\n      this.stateChanges = new Observable();\n    } // Abstarct Methods\n\n    /**\n     * @param {Function} cb\n     * @return {void}\n     */\n\n  }, {\n    key: \"_forEachChild\",\n    value: function _forEachChild(cb) {}\n  }, {\n    key: \"_updateValue\",\n    value: function _updateValue() {}\n  }, {\n    key: \"_allControlsDisabled\",\n    value: function _allControlsDisabled() {}\n  }, {\n    key: \"_anyControls\",\n    value: function _anyControls() {}\n  }, {\n    key: \"reset\",\n    value: function reset(value, options) {}\n  }, {\n    key: \"setValue\",\n    value: function setValue() {}\n  }, {\n    key: \"patchValue\",\n    value: function patchValue() {}\n  }, {\n    key: \"_registerOnCollectionChange\",\n    value: function _registerOnCollectionChange(fn) {\n      this._onCollectionChange = fn;\n    }\n    /**\n     * @param {{validators: Function|Function[]|null, asyncValidators: Function|Function[]|null, updateOn: 'change' | 'blur' | 'submit'}} opts\n     * @return {Void}\n     */\n\n  }, {\n    key: \"_setUpdateStrategy\",\n    value: function _setUpdateStrategy(opts) {\n      if (isOptionsObj(opts) && opts.updateOn != null) {\n        this._updateOn = opts.updateOn;\n      }\n    }\n  }, {\n    key: \"updateOn\",\n    get: function get$$1() {\n      return this._updateOn ? this._updateOn : this.parent ? this.parent.updateOn : \"change\";\n    }\n    /**\n     * A control is `dirty` if the user has changed the value\n     * in the UI.\n     *\n     * Note that programmatic changes to a control's value will\n     * *not* mark it dirty.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"dirty\",\n    get: function get$$1() {\n      return !this.pristine;\n    }\n    /**\n     * A control is `valid` when its `status === VALID`.\n     *\n     * In order to have this status, the control must have passed all its\n     * validation checks.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"valid\",\n    get: function get$$1() {\n      return this.status === VALID;\n    }\n    /**\n     * A control is `invalid` when its `status === INVALID`.\n     *\n     * In order to have this status, the control must have failed\n     * at least one of its validation checks.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"invalid\",\n    get: function get$$1() {\n      return this.status === INVALID;\n    }\n    /**\n     * A control is `pending` when its `status === PENDING`.\n     *\n     * In order to have this status, the control must be in the\n     * middle of conducting a validation check.\n     */\n\n  }, {\n    key: \"pending\",\n    get: function get$$1() {\n      return this.status === PENDING;\n    }\n    /**\n     * The parent control.\n     * * @return {FormGroup|FormArray}\n     */\n\n  }, {\n    key: \"parent\",\n    get: function get$$1() {\n      return this._parent;\n    }\n    /**\n     * A control is `untouched` if the user has not yet triggered\n     * a `blur` event on it.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"untouched\",\n    get: function get$$1() {\n      return !this.touched;\n    }\n    /**\n     * A control is `enabled` as long as its `status !== DISABLED`.\n     *\n     * In other words, it has a status of `VALID`, `INVALID`, or\n     * `PENDING`.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"enabled\",\n    get: function get$$1() {\n      return this.status !== DISABLED;\n    }\n    /**\n     * A control is disabled if it's status is `DISABLED`\n     */\n\n  }, {\n    key: \"disabled\",\n    get: function get$$1() {\n      return this.status === DISABLED;\n    }\n    /**\n     * Retrieves the top-level ancestor of this control.\n     * @return {AbstractControl}\n     */\n\n  }, {\n    key: \"root\",\n    get: function get$$1() {\n      var x = this;\n\n      while (x._parent) {\n        x = x._parent;\n      }\n\n      return x;\n    }\n  }]);\n  return AbstractControl;\n}();\n\nvar FormControl = function (_AbstractControl) {\n  inherits(FormControl, _AbstractControl);\n\n  function FormControl(formState, validatorOrOpts, asyncValidator) {\n    classCallCheck(this, FormControl);\n\n    var _this2 = possibleConstructorReturn(this, (FormControl.__proto__ || Object.getPrototypeOf(FormControl)).call(this, coerceToValidator(validatorOrOpts), coerceToAsyncValidator(asyncValidator, validatorOrOpts)));\n\n    _this2.formState = formState;\n    _this2.validatorsOrOpts = validatorOrOpts;\n\n    _this2._applyFormState(formState);\n\n    _this2._setUpdateStrategy(validatorOrOpts);\n\n    _this2._pendingChange = true;\n    _this2._pendingDirty = false;\n    _this2._pendingTouched = false;\n    /**\n     * A control is `active` when its focused.\n     */\n\n    _this2.active = false;\n    _this2.onValueChanges = new Observable();\n    _this2.onBlurChanges = new Observable();\n\n    _this2.updateValueAndValidity({\n      onlySelf: true,\n      emitEvent: false\n    });\n\n    _this2._initObservables();\n    /**\n     * Called whenevers an onChange event triggers.\n     * Updates the control value according to the update strategy.\n     *\n     * @param {any} event\n     * @return {void}\n     */\n\n\n    _this2.onChange = function (event) {\n      var value = getControlValue(event);\n      var isDirty = value !== _this2.value;\n\n      if (_this2.updateOn !== \"change\") {\n        _this2._pendingValue = value;\n        _this2._pendingChange = true;\n\n        if (isDirty && !_this2._pendingDirty) {\n          _this2._pendingDirty = true;\n        }\n\n        _this2.stateChanges.next();\n      } else {\n        if (isDirty && !_this2.dirty) {\n          _this2.markAsDirty();\n        }\n\n        _this2.setValue(value);\n      }\n\n      _this2.onValueChanges.next(value);\n    };\n    /**\n     * Called whenevers an onBlur event triggers.\n     */\n\n\n    _this2.onBlur = function () {\n      _this2.active = false;\n\n      if (_this2.updateOn === \"blur\") {\n        if (_this2._pendingDirty && !_this2.dirty) {\n          _this2.markAsDirty();\n        }\n\n        if (!_this2.touched) {\n          _this2.markAsTouched();\n        }\n\n        _this2.setValue(_this2._pendingValue);\n      } else if (_this2.updateOn === \"submit\") {\n        _this2._pendingTouched = true;\n      } else {\n        var emitChangeToView = !_this2.touched;\n\n        if (!_this2.touched) {\n          _this2.markAsTouched();\n        }\n\n        if (emitChangeToView) {\n          _this2.stateChanges.next();\n        }\n      }\n\n      _this2.onBlurChanges.next(_this2._pendingValue);\n    };\n    /**\n     * Called whenevers an onFocus event triggers.\n     */\n\n\n    _this2.onFocus = function () {\n      _this2.active = true;\n\n      _this2.stateChanges.next();\n    };\n    /**\n     * Returns the required props to bind an input element.\n     * @param {string} inputType\n     * @param {any} value\n     */\n\n\n    _this2.handler = function (inputType, value) {\n      return getHandler(inputType, value, _this2);\n    };\n\n    return _this2;\n  }\n  /**\n   * A control is `inactive` when its not focused.\n   * @return {Boolean}\n   */\n\n\n  createClass(FormControl, [{\n    key: \"setValue\",\n\n    /**\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} options\n     * @return {void}\n     */\n    value: function setValue(value) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.value = this._pendingValue = value;\n      this.updateValueAndValidity(options);\n    }\n    /**\n     * Patches the value of a control.\n     *\n     * This function is functionally the same as setValue at this level.\n     * It exists for symmetry with patchValue on `FormGroups` and\n     * `FormArrays`, where it does behave differently.\n     * @param {any} value\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"patchValue\",\n    value: function patchValue(value) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.setValue(value, options);\n    }\n    /**\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var formState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._applyFormState(formState);\n\n      this.markAsPristine(options);\n      this.markAsUntouched(options);\n      this.setValue(this.value, options);\n      this._pendingChange = false;\n    }\n    /**\n     * @param {Function} condition\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_anyControls\",\n    value: function _anyControls(condition) {\n      return false;\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_allControlsDisabled\",\n    value: function _allControlsDisabled() {\n      return this.disabled;\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_isBoxedValue\",\n    value: function _isBoxedValue(formState) {\n      return (typeof formState === \"undefined\" ? \"undefined\" : _typeof(formState)) === \"object\" && formState !== null && Object.keys(formState).length === 2 && \"value\" in formState && \"disabled\" in formState;\n    }\n  }, {\n    key: \"_applyFormState\",\n    value: function _applyFormState(formState) {\n      if (this._isBoxedValue(formState)) {\n        this.value = this._pendingValue = formState.value;\n\n        if (formState.disabled) {\n          this.disable({\n            onlySelf: true,\n            emitEvent: false\n          });\n        } else {\n          this.enable({\n            onlySelf: true,\n            emitEvent: false\n          });\n        }\n      } else {\n        this.value = this._pendingValue = formState;\n      }\n    }\n  }, {\n    key: \"_syncPendingControls\",\n    value: function _syncPendingControls() {\n      if (this.updateOn === \"submit\") {\n        if (this._pendingDirty) this.markAsDirty();\n        if (this._pendingTouched) this.markAsTouched();\n\n        if (this._pendingChange) {\n          this.setValue(this._pendingValue);\n          this._pendingChange = false;\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"inactive\",\n    get: function get$$1() {\n      return !this.active;\n    }\n  }]);\n  return FormControl;\n}(AbstractControl);\n\nvar FormGroup = function (_AbstractControl2) {\n  inherits(FormGroup, _AbstractControl2);\n\n  function FormGroup(controls, validatorOrOpts, asyncValidator) {\n    classCallCheck(this, FormGroup);\n\n    var _this3 = possibleConstructorReturn(this, (FormGroup.__proto__ || Object.getPrototypeOf(FormGroup)).call(this, coerceToValidator(validatorOrOpts), coerceToAsyncValidator(asyncValidator, validatorOrOpts)));\n\n    _this3.controls = controls;\n    _this3.validatorOrOpts = validatorOrOpts;\n\n    _this3._initObservables();\n\n    _this3._setUpdateStrategy(validatorOrOpts);\n\n    _this3._setUpControls();\n\n    _this3.updateValueAndValidity({\n      onlySelf: true,\n      emitEvent: false\n    });\n\n    _this3.handleSubmit = function (e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      if (_this3._anyControlsUnsubmitted()) {\n        _this3.markAsSubmitted({\n          emitEvent: false\n        });\n      }\n\n      if (!_this3._syncPendingControls()) {\n        _this3.updateValueAndValidity();\n      }\n    };\n\n    return _this3;\n  }\n  /**\n   * Check whether there is an enabled control with the given name in the group.\n   *\n   * It will return false for disabled controls. If you'd like to check for existence in the group\n   * only, use `AbstractControl` get instead.\n   * @param {String} controlName\n   * @return {Boolean}\n   */\n\n\n  createClass(FormGroup, [{\n    key: \"contains\",\n    value: function contains(controlName) {\n      return this.controls.hasOwnProperty(controlName) && this.controls[controlName].enabled;\n    }\n    /**\n     * Registers a control with the group's list of controls.\n     *\n     * This method does not update the value or validity of the control, so for most cases you'll want\n     * to use addControl instead.\n     * @param {String} name\n     * @param {AbstractControl} control\n     * @return {AbstractControl}\n     */\n\n  }, {\n    key: \"registerControl\",\n    value: function registerControl(name, control) {\n      if (this.controls[name]) return this.controls[name];\n      this.controls[name] = control;\n      control.setParent(this);\n\n      control._registerOnCollectionChange(this._onCollectionChange);\n\n      return control;\n    }\n    /**\n     * Add a control to this group.\n     * @param {String} name\n     * @param {AbstractControl} control\n     * @return {void}\n     */\n\n  }, {\n    key: \"addControl\",\n    value: function addControl(name, control) {\n      this.registerControl(name, control);\n      this.updateValueAndValidity();\n\n      this._onCollectionChange();\n    }\n    /**\n     * Remove a control from this group.\n     * @param {String} name\n     * @return {void}\n     */\n\n  }, {\n    key: \"removeControl\",\n    value: function removeControl(name) {\n      if (this.controls[name]) this.controls[name]._registerOnCollectionChange(function () {});\n      delete this.controls[name];\n      this.updateValueAndValidity();\n\n      this._onCollectionChange();\n    }\n    /**\n     * Replace an existing control.\n     * @param {String} name\n     * @param {AbstractControl} control\n     * @return {void}\n     */\n\n  }, {\n    key: \"setControl\",\n    value: function setControl(name, control) {\n      if (this.controls[name]) this.controls[name]._registerOnCollectionChange(function () {});\n      delete this.controls[name];\n      if (control) this.registerControl(name, control);\n      this.updateValueAndValidity();\n\n      this._onCollectionChange();\n    }\n    /**\n     * Sets the value of the FormGroup. It accepts an object that matches\n     * the structure of the group, with control names as keys.\n     *\n     * This method performs strict checks, so it will throw an error if you try\n     * to set the value of a control that doesn't exist or if you exclude the\n     * value of a control.\n     *\n     *  ### Example\n     *  form.setValue({first: 'Jon', last: 'Snow'});\n     *  console.log(form.value);   // {first: 'Jon', last: 'Snow'}\n     * @param {{[key: string]: any}} value\n     * @param {{onlySelf: boolean, emitEvent: boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._checkAllValuesPresent(value);\n\n      Object.keys(value).forEach(function (name) {\n        _this4._throwIfControlMissing(name);\n\n        _this4.controls[name].setValue(value[name], {\n          onlySelf: true,\n          emitEvent: options.emitEvent\n        });\n      });\n      this.updateValueAndValidity(options);\n    }\n    /**\n     * Resets the `FormGroup`.\n     * @param {any} value\n     * @param {{onlySelf: boolean, emitEvent: boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._forEachChild(function (control, name) {\n        control.reset(value[name], {\n          onlySelf: true,\n          emitEvent: options.emitEvent\n        });\n      });\n\n      this.updateValueAndValidity(options);\n      this.markAsUnsubmitted();\n\n      this._updatePristine(options);\n\n      this._updateTouched(options);\n    }\n    /**\n     *  Patches the value of the FormGroup. It accepts an object with control\n     *  names as keys, and will do its best to match the values to the correct controls\n     *  in the group.\n     *\n     *  It accepts both super-sets and sub-sets of the group without throwing an error.\n     *\n     *  ### Example\n     *  ```\n     *  console.log(form.value);   // {first: null, last: null}\n     *\n     *  form.patchValue({first: 'Jon'});\n     *  console.log(form.value);   // {first: 'Jon', last: null}\n     *\n     *  ```\n     * @param {{[key: string]: any}} value\n     * @param {{onlySelf: boolean, emitEvent: boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"patchValue\",\n    value: function patchValue(value) {\n      var _this5 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      Object.keys(value).forEach(function (name) {\n        if (_this5.controls[name]) {\n          _this5.controls[name].patchValue(value[name], {\n            onlySelf: true,\n            emitEvent: options.emitEvent\n          });\n        }\n      });\n      this.updateValueAndValidity(options);\n    }\n    /**\n     * The aggregate value of the FormGroup, including any disabled controls.\n     *\n     * If you'd like to include all values regardless of disabled status, use this method.\n     * Otherwise, the `value` property is the best way to get the value of the group.\n     */\n\n  }, {\n    key: \"getRawValue\",\n    value: function getRawValue() {\n      return this._reduceChildren({}, function (acc, control, name) {\n        acc[name] = control instanceof FormControl ? control.value : control.getRawValue();\n        return acc;\n      });\n    }\n    /**\n     * @param {{(v: any, k: String) => void}} callback\n     * @return {void}\n     */\n\n  }, {\n    key: \"_forEachChild\",\n    value: function _forEachChild(callback) {\n      var _this6 = this;\n\n      Object.keys(this.controls).forEach(function (k) {\n        return callback(_this6.controls[k], k);\n      });\n    }\n  }, {\n    key: \"_onCollectionChange\",\n    value: function _onCollectionChange() {}\n    /**\n     * @param {Function} condition\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_anyControls\",\n    value: function _anyControls(condition) {\n      var _this7 = this;\n\n      var res = false;\n\n      this._forEachChild(function (control, name) {\n        res = res || _this7.contains(name) && condition(control);\n      });\n\n      return res;\n    }\n  }, {\n    key: \"_updateValue\",\n    value: function _updateValue() {\n      this.value = this._reduceValue();\n    }\n  }, {\n    key: \"_reduceValue\",\n    value: function _reduceValue() {\n      var _this8 = this;\n\n      return this._reduceChildren({}, function (acc, control, name) {\n        if (control.enabled || _this8.disabled) {\n          acc[name] = control.value;\n        }\n\n        return acc;\n      });\n    }\n  }, {\n    key: \"_reduceErrors\",\n    value: function _reduceErrors() {\n      var _this9 = this;\n\n      return this._reduceChildren({}, function (acc, control, name) {\n        if (control.enabled || _this9.disabled) {\n          acc[name] = control.errors;\n        }\n\n        return acc;\n      });\n    }\n    /**\n     * @param {Function} fn\n     */\n\n  }, {\n    key: \"_reduceChildren\",\n    value: function _reduceChildren(initValue, fn) {\n      var res = initValue;\n\n      this._forEachChild(function (control, name) {\n        res = fn(res, control, name);\n      });\n\n      return res;\n    }\n  }, {\n    key: \"_setUpControls\",\n    value: function _setUpControls() {\n      var _this10 = this;\n\n      this._forEachChild(function (control) {\n        control.setParent(_this10);\n\n        control._registerOnCollectionChange(_this10._onCollectionChange);\n      });\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_allControlsDisabled\",\n    value: function _allControlsDisabled() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Object.keys(this.controls)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var controlName = _step.value;\n\n          if (this.controls[controlName].enabled) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return Object.keys(this.controls).length > 0 || this.disabled;\n    }\n  }, {\n    key: \"_checkAllValuesPresent\",\n    value: function _checkAllValuesPresent(value) {\n      this._forEachChild(function (control, name) {\n        if (value[name] === undefined) {\n          throw new Error(\"Must supply a value for form control with name: '\" + name + \"'.\");\n        }\n      });\n    }\n  }, {\n    key: \"_throwIfControlMissing\",\n    value: function _throwIfControlMissing(name) {\n      if (!Object.keys(this.controls).length) {\n        throw new Error(\"\\n        There are no form controls registered with this group yet.\\n      \");\n      }\n\n      if (!this.controls[name]) {\n        throw new Error(\"Cannot find form control with name: \" + name + \".\");\n      }\n    }\n  }, {\n    key: \"_syncPendingControls\",\n    value: function _syncPendingControls() {\n      var subtreeUpdated = this._reduceChildren(false, function (updated, child) {\n        return child._syncPendingControls() ? true : updated;\n      });\n\n      if (subtreeUpdated) this.updateValueAndValidity();\n      return subtreeUpdated;\n    }\n  }]);\n  return FormGroup;\n}(AbstractControl);\n\nvar FormArray = function (_AbstractControl3) {\n  inherits(FormArray, _AbstractControl3);\n\n  function FormArray(controls, validatorOrOpts, asyncValidator) {\n    classCallCheck(this, FormArray);\n\n    var _this11 = possibleConstructorReturn(this, (FormArray.__proto__ || Object.getPrototypeOf(FormArray)).call(this, coerceToValidator(validatorOrOpts), coerceToAsyncValidator(asyncValidator, validatorOrOpts)));\n\n    _this11.controls = controls;\n    _this11.validatorOrOpts = validatorOrOpts;\n\n    _this11._initObservables();\n\n    _this11._setUpdateStrategy(validatorOrOpts);\n\n    _this11._setUpControls();\n\n    _this11.updateValueAndValidity({\n      onlySelf: true,\n      emitEvent: false\n    });\n\n    _this11.handleSubmit = function (e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      if (_this11._anyControlsUnsubmitted()) {\n        _this11.markAsSubmitted({\n          emitEvent: false\n        });\n      }\n\n      if (!_this11._syncPendingControls()) {\n        _this11.updateValueAndValidity();\n      }\n    };\n\n    return _this11;\n  }\n  /**\n   * Get the `AbstractControl` at the given `index` in the array.\n   * @param {Number} index\n   * @return {AbstractControl}\n   */\n\n\n  createClass(FormArray, [{\n    key: \"at\",\n    value: function at(index) {\n      return this.controls[index];\n    }\n    /**\n     * Insert a new `AbstractControl` at the end of the array.\n     * @param {AbstractControl} control\n     * @return {Void}\n     */\n\n  }, {\n    key: \"push\",\n    value: function push(control) {\n      this.controls.push(control);\n\n      this._registerControl(control);\n\n      this.updateValueAndValidity();\n\n      this._onCollectionChange();\n    }\n    /**\n     * Insert a new `AbstractControl` at the given `index` in the array.\n     * @param {Number} index\n     * @param {AbstractControl} control\n     */\n\n  }, {\n    key: \"insert\",\n    value: function insert(index, control) {\n      this.controls.splice(index, 0, control);\n\n      this._registerControl(control);\n\n      this.updateValueAndValidity();\n\n      this._onCollectionChange();\n    }\n    /**\n     * Remove the control at the given `index` in the array.\n     * @param {Number} index\n     */\n\n  }, {\n    key: \"removeAt\",\n    value: function removeAt(index) {\n      if (this.controls[index]) this.controls[index]._registerOnCollectionChange(function () {});\n      this.controls.splice(index, 1);\n      this.updateValueAndValidity();\n\n      this._onCollectionChange();\n    }\n    /**\n     * Replace an existing control.\n     * @param {Number} index\n     * @param {AbstractControl} control\n     */\n\n  }, {\n    key: \"setControl\",\n    value: function setControl(index, control) {\n      if (this.controls[index]) this.controls[index]._registerOnCollectionChange(function () {});\n      this.controls.splice(index, 1);\n\n      if (control) {\n        this.controls.splice(index, 0, control);\n\n        this._registerControl(control);\n      }\n\n      this.updateValueAndValidity();\n\n      this._onCollectionChange();\n    }\n    /**\n     * Length of the control array.\n     * @return {Number}\n     */\n\n  }, {\n    key: \"setValue\",\n\n    /**\n     * Sets the value of the `FormArray`. It accepts an array that matches\n     * the structure of the control.\n     * @param {any[]} value\n     * @param {{onlySelf?: boolean, emitEvent?: boolean}} options\n     */\n    value: function setValue(value) {\n      var _this12 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._checkAllValuesPresent(value);\n\n      value.forEach(function (newValue, index) {\n        _this12._throwIfControlMissing(index);\n\n        _this12.at(index).setValue(newValue, {\n          onlySelf: true,\n          emitEvent: options.emitEvent\n        });\n      });\n      this.updateValueAndValidity(options);\n    }\n    /**\n     *  Patches the value of the `FormArray`. It accepts an array that matches the\n     *  structure of the control, and will do its best to match the values to the correct\n     *  controls in the group.\n     * @param {any[]} value\n     * @param {{onlySelf?: boolean, emitEvent?: boolean}} options\n     */\n\n  }, {\n    key: \"patchValue\",\n    value: function patchValue(value) {\n      var _this13 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      value.forEach(function (newValue, index) {\n        if (_this13.at(index)) {\n          _this13.at(index).patchValue(newValue, {\n            onlySelf: true,\n            emitEvent: options.emitEvent\n          });\n        }\n      });\n      this.updateValueAndValidity(options);\n    }\n    /**\n     * Resets the `FormArray`.\n     * @param {any[]} value\n     * @param {{onlySelf?: boolean, emitEvent?: boolean}} options\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._forEachChild(function (control, index) {\n        control.reset(value[index], {\n          onlySelf: true,\n          emitEvent: options.emitEvent\n        });\n      });\n\n      this.updateValueAndValidity(options);\n      this.markAsUnsubmitted();\n\n      this._updatePristine(options);\n\n      this._updateTouched(options);\n    }\n    /**\n     * The aggregate value of the array, including any disabled controls.\n     *\n     * If you'd like to include all values regardless of disabled status, use this method.\n     * Otherwise, the `value` property is the best way to get the value of the array.\n     * @return {any[]}\n     */\n\n  }, {\n    key: \"getRawValue\",\n    value: function getRawValue() {\n      return this.controls.map(function (control) {\n        return control instanceof FormControl ? control.value : control.getRawValue();\n      });\n    }\n  }, {\n    key: \"_syncPendingControls\",\n    value: function _syncPendingControls() {\n      var subtreeUpdated = this.controls.reduce(function (updated, child) {\n        return child._syncPendingControls() ? true : updated;\n      }, false);\n      if (subtreeUpdated) this.updateValueAndValidity();\n      return subtreeUpdated;\n    }\n  }, {\n    key: \"_throwIfControlMissing\",\n    value: function _throwIfControlMissing(index) {\n      if (!this.controls.length) {\n        throw new Error(\"\\n        There are no form controls registered with this array yet.\\n      \");\n      }\n\n      if (!this.at(index)) {\n        throw new Error(\"Cannot find form control at index \" + index);\n      }\n    }\n  }, {\n    key: \"_forEachChild\",\n    value: function _forEachChild(cb) {\n      this.controls.forEach(function (control, index) {\n        cb(control, index);\n      });\n    }\n  }, {\n    key: \"_updateValue\",\n    value: function _updateValue() {\n      var _this14 = this;\n\n      this.value = this.controls.filter(function (control) {\n        return control.enabled || _this14.disabled;\n      }).map(function (control) {\n        return control.value;\n      });\n    }\n  }, {\n    key: \"_anyControls\",\n    value: function _anyControls(condition) {\n      return this.controls.some(function (control) {\n        return control.enabled && condition(control);\n      });\n    }\n  }, {\n    key: \"_setUpControls\",\n    value: function _setUpControls() {\n      var _this15 = this;\n\n      this._forEachChild(function (control) {\n        return _this15._registerControl(control);\n      });\n    }\n  }, {\n    key: \"_checkAllValuesPresent\",\n    value: function _checkAllValuesPresent(value) {\n      this._forEachChild(function (control, i) {\n        if (value[i] === undefined) {\n          throw new Error(\"Must supply a value for form control at index: \" + i + \".\");\n        }\n      });\n    }\n  }, {\n    key: \"_allControlsDisabled\",\n    value: function _allControlsDisabled() {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.controls[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var control = _step2.value;\n          if (control.enabled) return false;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return this.controls.length > 0 || this.disabled;\n    }\n  }, {\n    key: \"_registerControl\",\n    value: function _registerControl(control) {\n      control.setParent(this);\n\n      control._registerOnCollectionChange(this._onCollectionChange);\n    }\n  }, {\n    key: \"_onCollectionChange\",\n    value: function _onCollectionChange() {}\n  }, {\n    key: \"length\",\n    get: function get$$1() {\n      return this.controls.length;\n    }\n  }]);\n  return FormArray;\n}(AbstractControl);\n\nfunction _createControl(controlConfig) {\n  if (controlConfig instanceof FormControl || controlConfig instanceof FormGroup || controlConfig instanceof FormArray) {\n    return controlConfig;\n  } else if (Array.isArray(controlConfig)) {\n    var value = controlConfig[0];\n    var validator = controlConfig.length > 1 ? controlConfig[1] : null;\n    var asyncValidator = controlConfig.length > 2 ? controlConfig[2] : null;\n    var updateOn = controlConfig.length > 3 ? controlConfig[3] : null;\n    return FormBuilder.control(value, validator, asyncValidator, updateOn);\n  }\n\n  return FormBuilder.control(controlConfig);\n}\n\nfunction _reduceControls(controlsConfig) {\n  var controls = {};\n  Object.keys(controlsConfig).forEach(function (controlName) {\n    controls[controlName] = _createControl(controlsConfig[controlName]);\n  });\n  return controls;\n}\n\nvar FormBuilder = function () {\n  function FormBuilder() {\n    classCallCheck(this, FormBuilder);\n  }\n\n  createClass(FormBuilder, null, [{\n    key: 'group',\n\n    /**\n     * Construct a new `FormGroup` with the given map of configuration.\n     * Valid keys for the `extra` parameter map are `validators`, `asyncValidators` & `updateOn`.\n     * @param {{[key: string]: any}} controlsConfig\n     * @param {{[key: string]: any}|null} extra\n     * @return {FormGroup}\n     */\n    value: function group(controlsConfig, extra) {\n      var controls = _reduceControls(controlsConfig);\n\n      var validators = extra != null ? extra.validators : null;\n      var asyncValidators = extra != null ? extra.asyncValidators : null;\n      var updateOn = extra != null ? extra.updateOn : null;\n      return new FormGroup(controls, {\n        validators: validators,\n        asyncValidators: asyncValidators,\n        updateOn: updateOn\n      });\n    }\n    /**\n     * Construct a `FormArray` from the given `controlsConfig` array of\n     * Valid keys for the `extra` parameter map are `validators`, `asyncValidators` & `updateOn`.\n     */\n\n  }, {\n    key: 'array',\n    value: function array(controlsConfig, extra) {\n      var controls = controlsConfig.map(function (c) {\n        return _createControl(c);\n      });\n      var validators = extra != null ? extra.validators : null;\n      var asyncValidators = extra != null ? extra.asyncValidators : null;\n      var updateOn = extra != null ? extra.updateOn : null;\n      return new FormArray(controls, {\n        validators: validators,\n        asyncValidators: asyncValidators,\n        updateOn: updateOn\n      });\n    }\n    /**\n     * Construct a new `FormControl` with the given `formState`,`validator`,`asyncValidator`\n     * and `updateOn`\n     * `formState` can either be a standalone value for the form control or an object\n     * that contains both a value and a disabled status.\n     * @param {Object} formState\n     * @param {Function|Function[]|null} validator\n     * @param {Function|Function[]|null} asyncValidator\n     * @param {string} updatOn\n     * @return {FormControl}\n     */\n\n  }, {\n    key: 'control',\n    value: function control(formState, validators, asyncValidators, updateOn) {\n      return new FormControl(formState, {\n        validators: validators,\n        asyncValidators: asyncValidators,\n        updateOn: updateOn\n      });\n    }\n  }]);\n  return FormBuilder;\n}();\n\nvar Field = function (_React$Component) {\n  inherits(Field, _React$Component);\n\n  function Field() {\n    classCallCheck(this, Field);\n    return possibleConstructorReturn(this, (Field.__proto__ || Object.getPrototypeOf(Field)).apply(this, arguments));\n  }\n\n  createClass(Field, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var control = this.props.control; // Add listener\n\n      this.addListener(control);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var control = this.props.control;\n\n      if (control !== prevProps.control) {\n        this.removeListener(control);\n        this.addListener(control);\n      }\n    }\n  }, {\n    key: 'addListener',\n    value: function addListener(control) {\n      var _this2 = this;\n\n      if (control) {\n        control.stateChanges.subscribe(function () {\n          _this2.forceUpdate();\n        });\n      }\n    }\n  }, {\n    key: 'removeListener',\n    value: function removeListener(control) {\n      if (control) {\n        if (control.stateChanges.observers) {\n          control.stateChanges.observers.forEach(function (observer) {\n            control.stateChanges.unsubscribe(observer);\n          });\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var control = this.props.control; // Remove Listener\n\n      this.removeListener(control);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(props) {\n      if (!props.strict) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: 'getComponent',\n    value: function getComponent() {\n      var _props = this.props,\n          render = _props.render,\n          children = _props.children,\n          control = _props.control;\n      warning(control, 'Missing Control.Please make sure that an instance of FormControl, FormGroup or FormArray must be passed as a control prop in the Field component');\n\n      if (control) {\n        // Render function as child\n        if (isFunction(children)) {\n          return children(control);\n        } // Render function as render prop\n\n\n        if (isFunction(render)) {\n          return render(control);\n        }\n\n        return null;\n      }\n\n      return null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.getComponent();\n    }\n  }]);\n  return Field;\n}(React.Component);\n\nField.defaultProps = {\n  strict: true\n};\nField.propTypes = {\n  strict: PropTypes.bool,\n  control: PropTypes.oneOfType([PropTypes.instanceOf(FormControl), PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]).isRequired,\n  render: PropTypes.func\n};\n\nvar getControlFromReference = function getControlFromReference(reference, options, formState) {\n  switch (reference) {\n    case 'FormGroup':\n      return new FormGroup({}, options);\n\n    case 'FormArray':\n      return new FormArray([], options);\n\n    case 'FormControl':\n      return new FormControl(formState, options);\n\n    default:\n      return null;\n  }\n};\n\nvar configureControl = function configureControl(props, context, reference) {\n  var name = props.name,\n      parent = props.parent,\n      options = props.options,\n      index = props.index,\n      control = props.control,\n      formState = props.formState,\n      meta = props.meta;\n  var parentControl = parent || context.parentControl;\n  var returnControl = null;\n\n  if (control) {\n    if (reference === 'FormGroup' && control instanceof FormGroup) {\n      returnControl = control;\n    } else if (reference === 'FormArray' && control instanceof FormArray) {\n      returnControl = control;\n    } else if (reference === 'FormControl' && control instanceof FormControl) {\n      returnControl = control;\n    } else {\n      warning(null, 'Control should be an instance of ' + reference + '.');\n    }\n  } else {\n    if (name) {\n      /**\n       * The presence of name prop signifies two things:-\n       * 1. The group control has to be added as a nested control i.e parent should be present.\n       * 2. Parent must be an instance of FormGroup\n       */\n      warning(parentControl, 'Error in ' + name + ' control: Missing parent control.\\n             Please make sure that the component is wrapped in a FieldGroup or\\n             you can explicitly pass a parent control as a parent prop.');\n      warning(parentControl && parentControl instanceof FormGroup, 'Error in ' + name + ' control: A name prop can only be used if the parent is an instance of FormGroup,\\n             You can use the index prop instead of name, if the parent control is an instance of FormArray');\n\n      if (parentControl && parentControl instanceof FormGroup) {\n        /**\n         * Check the presence of the control, if a control is already present in the parent control\n         * then don't add a new control, return the same.\n         */\n        if (!parentControl.get(name)) {\n          parentControl.addControl(name, getControlFromReference(reference, options, formState));\n        }\n\n        returnControl = parentControl.get(name);\n      }\n    } else {\n      if (parentControl instanceof FormArray) {\n        /**\n         * If a index prop is defined then insert the control at a particular index otherwise\n         * push the control at the end of FormArray\n         */\n        var insertAtIndex = index !== undefined ? index : parentControl.controls.length;\n        parentControl.insert(insertAtIndex, getControlFromReference(reference, options, formState));\n        returnControl = parentControl.at(insertAtIndex);\n      } else {\n        // Create a new instance and return as control in case of FormArray and FormGroup\n        if (reference === 'FormGroup' || reference === 'FormArray') {\n          returnControl = getControlFromReference(reference, options, formState);\n        }\n      }\n    }\n  } // Add the meta data about the control\n\n\n  if (returnControl && meta) {\n    returnControl.meta = meta;\n  }\n\n  return returnControl;\n};\n\nvar FieldGroup = function (_React$Component) {\n  inherits(FieldGroup, _React$Component);\n\n  function FieldGroup(props, context) {\n    classCallCheck(this, FieldGroup);\n\n    var _this = possibleConstructorReturn(this, (FieldGroup.__proto__ || Object.getPrototypeOf(FieldGroup)).call(this, props, context));\n\n    _this.control = configureControl(props, context, 'FormGroup');\n    return _this;\n  }\n\n  createClass(FieldGroup, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        parentControl: this.control\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          strict = _props.strict,\n          children = _props.children,\n          render = _props.render;\n      var FieldProps = {\n        control: this.control,\n        strict: strict,\n        render: render || children || null\n      };\n      return React.createElement(Field, FieldProps);\n    }\n  }]);\n  return FieldGroup;\n}(React.Component);\n\nFieldGroup.childContextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\nFieldGroup.contextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\nFieldGroup.defaultProps = {\n  strict: true\n};\nFieldGroup.propTypes = {\n  strict: PropTypes.bool,\n  render: PropTypes.func,\n  name: PropTypes.string,\n  index: PropTypes.number,\n  control: PropTypes.instanceOf(FormGroup),\n  options: PropTypes.shape({\n    validators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    asyncValidators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    updateOn: PropTypes.oneOf(['change', 'blur', 'submit'])\n  }),\n  parent: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n  meta: PropTypes.object\n};\n\nvar FieldControl = function (_React$Component) {\n  inherits(FieldControl, _React$Component);\n\n  function FieldControl(props, context) {\n    classCallCheck(this, FieldControl);\n\n    var _this = possibleConstructorReturn(this, (FieldControl.__proto__ || Object.getPrototypeOf(FieldControl)).call(this, props, context));\n\n    _this.control = configureControl(props, context, 'FormControl');\n    return _this;\n  }\n\n  createClass(FieldControl, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.name !== prevProps.name) {\n        this.control = configureControl(this.props, this.context, 'FormControl');\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          strict = _props.strict,\n          children = _props.children,\n          render = _props.render;\n      var FieldProps = {\n        control: this.control,\n        strict: strict,\n        render: render || children || null\n      };\n      return React.createElement(Field, FieldProps);\n    }\n  }]);\n  return FieldControl;\n}(React.Component);\n\nFieldControl.defaultProps = {\n  strict: true\n};\nFieldControl.propTypes = {\n  strict: PropTypes.bool,\n  render: PropTypes.func,\n  name: PropTypes.string,\n  index: PropTypes.number,\n  control: PropTypes.instanceOf(FormControl),\n  formState: PropTypes.oneOfType([PropTypes.shape({\n    value: PropTypes.any,\n    disabled: PropTypes.bool\n  }), PropTypes.any]),\n  options: PropTypes.shape({\n    validators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    asyncValidators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    updateOn: PropTypes.oneOf(['change', 'blur', 'submit'])\n  }),\n  parent: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n  meta: PropTypes.object\n};\nFieldControl.contextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\n\nvar FieldArray = function (_React$Component) {\n  inherits(FieldArray, _React$Component);\n\n  function FieldArray(props, context) {\n    classCallCheck(this, FieldArray);\n\n    var _this = possibleConstructorReturn(this, (FieldArray.__proto__ || Object.getPrototypeOf(FieldArray)).call(this, props, context));\n\n    _this.control = configureControl(props, context, 'FormArray');\n    return _this;\n  }\n\n  createClass(FieldArray, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        parentControl: this.control\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          strict = _props.strict,\n          children = _props.children,\n          render = _props.render;\n      var FieldProps = {\n        control: this.control,\n        strict: strict,\n        render: render || children || null\n      };\n      return React.createElement(Field, FieldProps);\n    }\n  }]);\n  return FieldArray;\n}(React.Component);\n\nFieldArray.childContextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\nFieldArray.contextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\nFieldArray.defaultProps = {\n  strict: true\n};\nFieldArray.propTypes = {\n  strict: PropTypes.bool,\n  render: PropTypes.func,\n  name: PropTypes.string,\n  index: PropTypes.number,\n  control: PropTypes.instanceOf(FormArray),\n  options: PropTypes.shape({\n    validators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    asyncValidators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    updateOn: PropTypes.oneOf(['change', 'blur', 'submit'])\n  }),\n  parent: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n  meta: PropTypes.object\n};\nvar FIELD_CONFIG_STRING = '$field_';\n\nvar FormGenerator = function (_React$Component) {\n  inherits(FormGenerator, _React$Component);\n\n  function FormGenerator(props) {\n    classCallCheck(this, FormGenerator); // Intiate the form property\n\n    var _this = possibleConstructorReturn(this, (FormGenerator.__proto__ || Object.getPrototypeOf(FormGenerator)).call(this, props));\n\n    _this.form = null;\n    return _this;\n  }\n\n  createClass(FormGenerator, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.props.onMount(this.form);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.props.onMount(this.form);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      // Only Re-renders for changes in field config\n      if (nextProps.fieldConfig !== this.props.fieldConfig) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var onUnmount = this.props.onUnmount;\n      onUnmount();\n    } // Create the form instance\n\n  }, {\n    key: 'configureForm',\n    value: function configureForm() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FormGroup';\n      var fieldConfig = this.props.fieldConfig;\n      this.form = configureControl(fieldConfig, {}, type);\n    } // Creates the control from fieldConfig.\n\n  }, {\n    key: 'setControl',\n    value: function setControl(configProps, key) {\n      var _this2 = this;\n\n      var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null; // Map the props to be passed in Field\n\n      var propsToBePassed = mapConfigToFieldProps(configProps); // Set the key\n\n      propsToBePassed.key = key;\n\n      if (name) {\n        propsToBePassed.name = name;\n      } // Set the component for $field_\n\n\n      if (name && name.startsWith(FIELD_CONFIG_STRING) || typeof configProps.index === 'string' && configProps.index.startsWith(FIELD_CONFIG_STRING)) {\n        // Only subscribe when isStatic is false\n        if (configProps.isStatic === false) {\n          return React.createElement(Field, Object.assign({}, {\n            control: this.form\n          }, propsToBePassed));\n        }\n\n        return propsToBePassed.render();\n      }\n\n      if (configProps.controls) {\n        if (configProps.controls instanceof Array) {\n          // If controls is an array then configure FormArray\n          if (!this.form) {\n            this.configureForm('FormArray');\n            propsToBePassed.control = this.form;\n          }\n\n          return React.createElement(FieldArray, Object.assign({}, propsToBePassed, {\n            render: function render() {\n              return configProps.controls.map(function (config, index) {\n                return _this2.setControl(config, key + '_' + index);\n              });\n            }\n          }));\n        } else if (configProps.controls instanceof Object) {\n          // If controls is an object then configure FormGroup\n          if (!this.form) {\n            this.configureForm();\n            propsToBePassed.control = this.form;\n          }\n\n          return React.createElement(FieldGroup, Object.assign({}, propsToBePassed, {\n            render: function render() {\n              return Object.keys(configProps.controls).map(function (key) {\n                return _this2.setControl(configProps.controls[key], key, key);\n              });\n            }\n          }));\n        } else {\n          warning(false, 'Missing controls in fieldConfig.');\n          return null;\n        }\n      } else {\n        return React.createElement(FieldControl, propsToBePassed);\n      }\n    }\n  }, {\n    key: 'generateFields',\n    value: function generateFields() {\n      // Reset the form instance\n      this.form = null;\n      var fieldConfig = this.props.fieldConfig;\n\n      if (fieldConfig.controls) {\n        var fields = this.setControl(fieldConfig, generateKey('my_form'));\n        return fields;\n      } else {\n        // Throw error\n        warning(false, 'Missing controls in fieldConfig.');\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var fieldConfig = this.props.fieldConfig;\n\n      if (fieldConfig) {\n        return this.generateFields();\n      }\n\n      return null;\n    }\n  }]);\n  return FormGenerator;\n}(React.Component);\n\nFormGenerator.propTypes = {\n  fieldConfig: PropTypes.shape({\n    controls: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n    strict: PropTypes.bool,\n    render: PropTypes.func,\n    name: PropTypes.string,\n    index: PropTypes.number,\n    control: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n    options: PropTypes.shape({\n      validators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n      asyncValidators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n      updateOn: PropTypes.oneOf(['change', 'blur', 'submit'])\n    }),\n    parent: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n    meta: PropTypes.object\n  }).isRequired,\n  onMount: PropTypes.func,\n  onUnmount: PropTypes.func\n};\nFormGenerator.defaultProps = {\n  onMount: function onMount() {\n    return null;\n  },\n  onUnmount: function onUnmount() {\n    return null;\n  }\n};\nexport { FormBuilder, FormGroup, FormControl, FormArray, Validators, Field, FieldGroup, FieldControl, FieldArray, FormGenerator };","map":{"version":3,"sources":["/home/valli/car-inventory/node_modules/react-reactive-form/dist/react-reactive-form.es.js"],"names":["React","PropTypes","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","inherits","subClass","superClass","create","value","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","Observable","observers","subscribe","fn","push","unsubscribe","filter","item","next","o","thisObj","scope","window","forEach","fromPromise","r","cb","observable","then","mappedValue","error","isPromise","isFunction","isObservable","toObservable","obs","Error","isReactNative","navigator","product","isEvent","candidate","stopPropagation","preventDefault","controlsToBeMap","ReactNative","switch","onValueChange","onBlur","onFocus","disabled","default","onChange","editable","getAbsoluteValue","undefined","getInputControls","inputType","getHandler","control","controlObject","inputControls","keys","controlProperty","updateOn","_pendingValue","mappedObject","warning","condition","message","process","env","NODE_ENV","console","generateKey","pre","Date","getTime","FIELD_PROPS","mapConfigToFieldProps","config","configKey","indexOf","isEmptyInputValue","isPresent","_mergeErrors","arrayOfErrors","res","reduce","errors","assign","_executeValidators","validators","map","v","_executeAsyncValidators","EMAIL_REGEXP","Validators","min","_min","parsedValue","parseFloat","isNaN","actual","max","_max","required","requiredTrue","email","test","minLength","_minLength","requiredLength","actualLength","maxLength","_maxLength","pattern","_pattern","regex","regexStr","RegExp","toString","requiredPattern","actualValue","compose","presentValidators","composeAsync","observables","Promise","all","VALID","INVALID","PENDING","DISABLED","getControlValue","event","type","checked","options","l","selected","nativeEvent","text","_find","path","delimiter","Array","split","name","FormGroup","controls","FormArray","at","isOptionsObj","validatorOrOpts","isArray","normalizeValidator","validator","validate","c","normalizeAsyncValidator","composeValidators","composeAsyncValidators","coerceToValidator","coerceToAsyncValidator","asyncValidator","origAsyncValidator","asyncValidators","AbstractControl","touched","submitted","pristine","meta","_pendingChange","_pendingDirty","_pendingTouched","_onDisabledChange","hasError","bind","getError","reset","get","patchValue","setValue","setInitialStatus","status","disable","opts","arguments","_forEachChild","onlySelf","_updateValue","emitEvent","valueChanges","statusChanges","stateChanges","_updateAncestors","changeFn","enable","updateValueAndValidity","shouldValidate","enabled","_cancelExistingSubscription","_runValidator","_calculateStatus","_runAsyncValidator","parent","markAsTouched","_parent","markAsSubmitted","markAsUnsubmitted","markAsPristine","_updatePristine","markAsUntouched","_updateTouched","markAsDirty","markAsPending","setValidators","newValidator","setAsyncValidators","setErrors","_updateControlsErrors","get$$1","errorCode","clearValidators","clearAsyncValidators","setParent","_anyControlsHaveStatus","_anyControls","_allControlsDisabled","_this","_asyncValidationSubscription","_anyControlsDirty","_anyControlsTouched","dirty","_anyControlsUnsubmitted","_initObservables","_registerOnCollectionChange","_onCollectionChange","_setUpdateStrategy","_updateOn","x","FormControl","_AbstractControl","formState","_this2","getPrototypeOf","validatorsOrOpts","_applyFormState","active","onValueChanges","onBlurChanges","isDirty","emitChangeToView","handler","_isBoxedValue","_syncPendingControls","_AbstractControl2","_this3","_setUpControls","handleSubmit","e","contains","controlName","hasOwnProperty","registerControl","addControl","removeControl","setControl","_this4","_checkAllValuesPresent","_throwIfControlMissing","_this5","getRawValue","_reduceChildren","acc","callback","_this6","k","_this7","_reduceValue","_this8","_reduceErrors","_this9","initValue","_this10","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","done","err","return","subtreeUpdated","updated","child","_AbstractControl3","_this11","index","_registerControl","insert","splice","removeAt","_this12","newValue","_this13","_this14","some","_this15","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_createControl","controlConfig","FormBuilder","_reduceControls","controlsConfig","group","extra","array","Field","_React$Component","apply","componentDidMount","addListener","componentDidUpdate","prevProps","removeListener","forceUpdate","observer","componentWillUnmount","shouldComponentUpdate","strict","getComponent","_props","render","children","Component","defaultProps","propTypes","bool","oneOfType","instanceOf","isRequired","func","getControlFromReference","reference","configureControl","context","parentControl","returnControl","insertAtIndex","FieldGroup","getChildContext","FieldProps","createElement","childContextTypes","contextTypes","string","number","shape","arrayOf","oneOf","object","FieldControl","any","FieldArray","FIELD_CONFIG_STRING","FormGenerator","form","onMount","nextProps","fieldConfig","onUnmount","configureForm","configProps","propsToBePassed","startsWith","isStatic","generateFields","fields"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar Observable = function () {\n  function Observable() {\n    classCallCheck(this, Observable);\n\n    this.observers = [];\n  }\n\n  createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(fn) {\n      this.observers.push(fn);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(fn) {\n      if (fn) {\n        this.observers = this.observers.filter(function (item) {\n          if (item !== fn) {\n            return item;\n          }\n          return null;\n        });\n      } else {\n        this.observers = [];\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next(o, thisObj) {\n      var scope = thisObj || window;\n      this.observers.forEach(function (item) {\n        item.call(scope, o);\n      });\n    }\n  }]);\n  return Observable;\n}();\n\n/** Converts a promise into Observable\n * @param {Promise} r\n * @param {(value: any) => any} cb\n * @returns {Observable}\n */\nfunction fromPromise(r, cb) {\n  var observable = new Observable();\n  r.then(function (value) {\n    var mappedValue = function mappedValue(value) {\n      return cb ? cb(value) : value;\n    };\n    observable.next(mappedValue(value));\n  }, function (error) {\n    observable.next(error);\n  }).then(null, function (error) {\n    throw error;\n  });\n  return observable;\n}\n/**\n * Checks if an object is a Promise\n * @param {Observable} obj\n * @returns {boolean}\n */\nfunction isPromise(obj) {\n  return !!obj && typeof obj.then === \"function\";\n}\n/**\n * Checks if an object is a Function\n * @param {any} obj\n * @returns {boolean}\n */\nfunction isFunction(obj) {\n  return \"function\" === typeof obj;\n}\n/**\n * Checks if an object is Observable\n * @param {Observable} obj\n * @returns {boolean}\n */\nfunction isObservable(obj) {\n  return !!obj && typeof obj.subscribe === \"function\";\n}\n/**\n * Converts an object into Observable\n * @param {any} r\n * @returns {Observable}\n */\nfunction toObservable(r) {\n  var obs = isPromise(r) ? fromPromise(r) : r;\n  if (!isObservable(obs)) {\n    throw new Error(\"Expected validator to return Promise or Observable.\");\n  }\n  return obs;\n}\nvar isReactNative = function isReactNative() {\n  return typeof window !== \"undefined\" && window.navigator && window.navigator.product && window.navigator.product === \"ReactNative\";\n};\nvar isEvent = function isEvent(candidate) {\n  return !!(candidate && candidate.stopPropagation && candidate.preventDefault);\n};\nvar controlsToBeMap = {\n  ReactNative: {\n    switch: {\n      value: \"value\",\n      onValueChange: \"onChange\",\n      onBlur: \"onBlur\",\n      onFocus: \"onFocus\",\n      disabled: \"disabled\"\n    },\n    default: {\n      value: \"value\",\n      onChange: \"onChange\",\n      onBlur: \"onBlur\",\n      onFocus: \"onFocus\",\n      editable: \"enabled\"\n    }\n  },\n  default: {\n    value: \"value\",\n    onChange: \"onChange\",\n    onBlur: \"onBlur\",\n    onFocus: \"onFocus\",\n    disabled: \"disabled\"\n  }\n};\nvar getAbsoluteValue = function getAbsoluteValue(value) {\n  return value === undefined || value === null ? \"\" : value;\n};\n\nvar getInputControls = function getInputControls(inputType) {\n  return isReactNative() ? controlsToBeMap.ReactNative[inputType] || controlsToBeMap.ReactNative.default : controlsToBeMap.default;\n};\n\nfunction getHandler(inputType, value, control) {\n  var controlObject = {};\n  var inputControls = getInputControls(inputType);\n  Object.keys(inputControls).forEach(function (key) {\n    var controlProperty = null;\n    if (key === \"value\") {\n      if (control.updateOn !== \"change\") {\n        controlProperty = getAbsoluteValue(control._pendingValue);\n      } else {\n        controlProperty = getAbsoluteValue(control.value);\n      }\n    } else {\n      controlProperty = control[inputControls[key]];\n    }\n    controlObject[key] = controlProperty;\n  });\n  var mappedObject = controlObject;\n  switch (inputType) {\n    case \"checkbox\":\n      mappedObject[\"checked\"] = !!mappedObject.value;\n      mappedObject[\"type\"] = inputType;\n      break;\n    case \"radio\":\n      mappedObject[\"checked\"] = mappedObject.value === value;\n      mappedObject.value = value;\n      mappedObject[\"type\"] = inputType;\n      break;\n    default:\n  }\n  return mappedObject;\n}\n/**\n * Display warning messages\n * @param {condition} any\n * @param {message} string\n * @returns {void}\n */\nfunction warning(condition, message) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!condition) {\n      console.error(\"Warning: \" + message);\n    }\n  }\n}\n/**\n * Generates the unique key for react elements\n * @param {*} pre\n */\nvar generateKey = function generateKey(pre) {\n  return pre + \"_\" + new Date().getTime();\n};\n\nvar FIELD_PROPS = [\"strict\", \"render\", \"name\", \"index\", \"control\", \"formState\", \"options\", \"parent\", \"meta\"];\n\nvar mapConfigToFieldProps = function mapConfigToFieldProps(config) {\n  var props = {};\n  if (config) {\n    Object.keys(config).forEach(function (configKey) {\n      if (FIELD_PROPS.indexOf(configKey) > -1) {\n        props[configKey] = config[configKey];\n      }\n    });\n  }\n  return props;\n};\n\nfunction isEmptyInputValue(value) {\n  return value == null || value.length === 0;\n}\nfunction isPresent(o) {\n  return o != null;\n}\nfunction _mergeErrors(arrayOfErrors) {\n  var res = arrayOfErrors.reduce(function (res, errors) {\n    return errors != null ? Object.assign({}, res, errors) : res;\n  }, {});\n  return Object.keys(res).length === 0 ? null : res;\n}\nfunction _executeValidators(control, validators) {\n  return validators.map(function (v) {\n    return v(control);\n  });\n}\nfunction _executeAsyncValidators(control, validators) {\n  return validators.map(function (v) {\n    return v(control);\n  });\n}\n\nvar EMAIL_REGEXP = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nvar Validators = function () {\n  function Validators() {\n    classCallCheck(this, Validators);\n  }\n\n  createClass(Validators, null, [{\n    key: 'min',\n\n    /**\n     * Validator that requires controls to have a value greater than a number.\n     */\n    value: function min(_min) {\n      return function (control) {\n        if (isEmptyInputValue(control.value) || isEmptyInputValue(_min)) {\n          return null; // don't validate empty values to allow optional controls\n        }\n        var parsedValue = parseFloat(control.value);\n        return !isNaN(parsedValue) && parsedValue < _min ? { min: { min: _min, actual: parsedValue } } : null;\n      };\n    }\n\n    /**\n     * Validator that requires controls to have a value less than a number.\n     */\n\n  }, {\n    key: 'max',\n    value: function max(_max) {\n      return function (control) {\n        if (isEmptyInputValue(control.value) || isEmptyInputValue(_max)) {\n          return null; // don't validate empty values to allow optional controls\n        }\n        var parsedValue = parseFloat(control.value);\n        return !isNaN(parsedValue) && parsedValue > _max ? { max: { max: _max, actual: parsedValue } } : null;\n      };\n    }\n\n    /**\n     * Validator that requires controls to have a non-empty value.\n     */\n\n  }, {\n    key: 'required',\n    value: function required(control) {\n      return isEmptyInputValue(control.value) ? { required: true } : null;\n    }\n\n    /**\n     * Validator that requires control value to be true.\n     */\n\n  }, {\n    key: 'requiredTrue',\n    value: function requiredTrue(control) {\n      return control.value === true ? null : { required: true };\n    }\n\n    /**\n     * Validator that performs email validation.\n     */\n\n  }, {\n    key: 'email',\n    value: function email(control) {\n      if (isEmptyInputValue(control.value)) {\n        return null;\n      }\n      return EMAIL_REGEXP.test(control.value) ? null : { email: true };\n    }\n\n    /**\n     * Validator that requires controls to have a value of a minimum length.\n     */\n\n  }, {\n    key: 'minLength',\n    value: function minLength(_minLength) {\n      return function (control) {\n        if (isEmptyInputValue(control.value)) {\n          return null; // don't validate empty values to allow optional controls\n        }\n        var length = control.value ? control.value.length : 0;\n        return length < _minLength ? { minLength: { requiredLength: _minLength, actualLength: length } } : null;\n      };\n    }\n\n    /**\n     * Validator that requires controls to have a value of a maximum length.\n     */\n\n  }, {\n    key: 'maxLength',\n    value: function maxLength(_maxLength) {\n      return function (control) {\n        var length = control.value ? control.value.length : 0;\n        return length > _maxLength ? { maxLength: { requiredLength: _maxLength, actualLength: length } } : null;\n      };\n    }\n    /**\n     * Validator that requires a control to match a regex to its value.\n     */\n\n  }, {\n    key: 'pattern',\n    value: function pattern(_pattern) {\n      if (!_pattern) return null;\n      var regex = void 0;\n      var regexStr = void 0;\n      if (typeof _pattern === 'string') {\n        regexStr = '^' + _pattern + '$';\n        regex = new RegExp(regexStr);\n      } else {\n        regexStr = _pattern.toString();\n        regex = _pattern;\n      }\n      return function (control) {\n        if (isEmptyInputValue(control.value)) {\n          return null; // don't validate empty values to allow optional controls\n        }\n        return regex.test(control.value) ? null : { pattern: { requiredPattern: regexStr, actualValue: control.value } };\n      };\n    }\n    /**\n     * Compose multiple validators into a single function that returns the union\n     * of the individual error maps.\n     * @param {(Function|null|undefined)[]|null} validators\n     * @return {Function|null}\n     */\n\n  }, {\n    key: 'compose',\n    value: function compose(validators) {\n      if (!validators) return null;\n      var presentValidators = validators.filter(isPresent);\n      if (presentValidators.length === 0) return null;\n      return function (control) {\n        return _mergeErrors(_executeValidators(control, presentValidators));\n      };\n    }\n    /**\n     * Compose multiple async validators into a single function that returns the union\n     * of the individual error maps.\n     * @param {(Function|null|undefined)[]|null} validators\n     * @return {Function|null}\n     */\n\n  }, {\n    key: 'composeAsync',\n    value: function composeAsync(validators) {\n      if (!validators) return null;\n      var presentValidators = validators.filter(isPresent);\n      if (presentValidators.length === 0) return null;\n      return function (control) {\n        var observables = _executeAsyncValidators(control, presentValidators);\n        return fromPromise(Promise.all(observables), _mergeErrors);\n      };\n    }\n  }]);\n  return Validators;\n}();\n\n/**\n * Indicates that a FormControl is valid, i.e. that no errors exist in the input value.\n */\nvar VALID = \"VALID\";\n\n/**\n * Indicates that a FormControl is invalid, i.e. that an error exists in the input value.\n */\nvar INVALID = \"INVALID\";\n\n/**\n * Indicates that a FormControl is pending, i.e. that async validation is occurring and\n * errors are not yet available for the input value.\n */\nvar PENDING = \"PENDING\";\n\n/**\n * Indicates that a FormControl is disabled, i.e. that the control is exempt from ancestor\n * calculations of validity or value.\n */\nvar DISABLED = \"DISABLED\";\n\n/**\n * Calculates the control's value according to the input type\n * @param {any} event\n * @return {any}\n */\nfunction getControlValue(event) {\n  if (isEvent(event)) {\n    switch (event.target.type) {\n      case \"checkbox\":\n        return event.target.checked;\n      case \"select-multiple\":\n        if (event.target.options) {\n          var options = event.target.options;\n          var value = [];\n          for (var i = 0, l = options.length; i < l; i++) {\n            if (options[i].selected) {\n              value.push(options[i].value);\n            }\n          }\n          return value;\n        }\n        return event.target.value;\n      default:\n        return isReactNative() ? event.nativeEvent.text : event.target.value;\n    }\n  }\n  return event;\n}\n/**\n * @param {AbstractControl} control\n * @param {(String|Number)[]|String} path\n * @param {String} delimiter\n */\nfunction _find(control, path, delimiter) {\n  if (path == null) return null;\n  if (!(path instanceof Array)) {\n    path = path.split(delimiter);\n  }\n  if (path instanceof Array && path.length === 0) return null;\n  return path.reduce(function (v, name) {\n    if (v instanceof FormGroup) {\n      return v.controls[name] || null;\n    }\n    if (v instanceof FormArray) {\n      return v.at(name) || null;\n    }\n    return null;\n  }, control);\n}\n/**\n * @param {{validators: Function|Function[]|null, asyncValidators: Function|Function[]|null, updateOn: 'change' | 'blur' | 'submit'}} validatorOrOpts\n * @return {Boolean}\n */\nfunction isOptionsObj(validatorOrOpts) {\n  return validatorOrOpts != null && !Array.isArray(validatorOrOpts) && (typeof validatorOrOpts === \"undefined\" ? \"undefined\" : _typeof(validatorOrOpts)) === \"object\";\n}\n/**\n * @param {Function} validator\n * @return {Function}\n */\nfunction normalizeValidator(validator) {\n  if (validator.validate) {\n    return function (c) {\n      return validator.validate(c);\n    };\n  }\n  return validator;\n}\n/**\n * @param {Function} validator\n * @return {Function}\n */\nfunction normalizeAsyncValidator(validator) {\n  if (validator.validate) {\n    return function (c) {\n      return validator.validate(c);\n    };\n  }\n  return validator;\n}\n/**\n * @param {Function[]} validators\n * @return {Function|null}\n */\nfunction composeValidators(validators) {\n  return validators != null ? Validators.compose(validators.map(normalizeValidator)) : null;\n}\n/**\n * @param {Function[]} validators\n * @return {Function|null}\n */\nfunction composeAsyncValidators(validators) {\n  return validators != null ? Validators.composeAsync(validators.map(normalizeAsyncValidator)) : null;\n}\n\nfunction coerceToValidator(validatorOrOpts) {\n  var validator = isOptionsObj(validatorOrOpts) ? validatorOrOpts.validators : validatorOrOpts;\n  return Array.isArray(validator) ? composeValidators(validator) : validator || null;\n}\n\nfunction coerceToAsyncValidator(asyncValidator, validatorOrOpts) {\n  var origAsyncValidator = isOptionsObj(validatorOrOpts) ? validatorOrOpts.asyncValidators : asyncValidator;\n  return Array.isArray(origAsyncValidator) ? composeAsyncValidators(origAsyncValidator) : origAsyncValidator || null;\n}\n/**\n * This is the base class for `FormControl`, `FormGroup`, and\n * `FormArray`.\n *\n * It provides some of the shared behavior that all controls and groups of controls have, like\n * running validators, calculating status, and resetting state. It also defines the properties\n * that are shared between all sub-classes, like `value`, `valid`, and `dirty`. It shouldn't be\n * instantiated directly.\n */\nvar AbstractControl = function () {\n  /**\n   * @param {Function|null} validator\n   * @param {Function|null} asyncValidator\n   */\n\n  function AbstractControl(validator, asyncValidator) {\n    classCallCheck(this, AbstractControl);\n\n    this.validator = validator;\n    this.asyncValidator = asyncValidator;\n    /**\n     * A control is marked `touched` once the user has triggered\n     * a `blur` event on it.\n     */\n    this.touched = false;\n    this.submitted = false;\n    /**\n     * A control is `pristine` if the user has not yet changed\n     * the value in the UI.\n     *\n     * Note that programmatic changes to a control's value will\n     * *not* mark it dirty.\n     */\n    this.pristine = true;\n    this.meta = {};\n    this._pendingChange = this.updateOn !== \"change\";\n    this._pendingDirty = false;\n    this._pendingTouched = false;\n    this._onDisabledChange = [];\n    this.hasError = this.hasError.bind(this);\n    this.getError = this.getError.bind(this);\n    this.reset = this.reset.bind(this);\n    this.get = this.get.bind(this);\n    this.patchValue = this.patchValue.bind(this);\n    this.setValue = this.setValue.bind(this);\n  }\n  /**\n   * Returns the update strategy of the `AbstractControl` (i.e.\n   * the event on which the control will update itself).\n   * Possible values: `'change'` (default) | `'blur'` | `'submit'`\n   */\n\n\n  createClass(AbstractControl, [{\n    key: \"setInitialStatus\",\n    value: function setInitialStatus() {\n      if (this.disabled) {\n        this.status = DISABLED;\n      } else {\n        this.status = VALID;\n      }\n    }\n    /**\n     * Disables the control. This means the control will be exempt from validation checks and\n     * excluded from the aggregate value of any parent. Its status is `DISABLED`.\n     *\n     * If the control has children, all children will be disabled to maintain the model.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.status = DISABLED;\n      this.errors = null;\n      this._forEachChild(function (control) {\n        control.disable({\n          onlySelf: true\n        });\n      });\n      this._updateValue();\n\n      if (opts.emitEvent !== false) {\n        this.valueChanges.next(this.value);\n        this.statusChanges.next(this.status);\n        this.stateChanges.next();\n      }\n\n      this._updateAncestors(!!opts.onlySelf);\n      this._onDisabledChange.forEach(function (changeFn) {\n        return changeFn(true);\n      });\n    }\n    /**\n     * Enables the control. This means the control will be included in validation checks and\n     * the aggregate value of its parent. Its status is re-calculated based on its value and\n     * its validators.\n     *\n     * If the control has children, all children will be enabled.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.status = VALID;\n      this._forEachChild(function (control) {\n        control.enable({\n          onlySelf: true\n        });\n      });\n      this.updateValueAndValidity({\n        onlySelf: true,\n        emitEvent: opts.emitEvent\n      });\n      this._updateAncestors(!!opts.onlySelf);\n      this._onDisabledChange.forEach(function (changeFn) {\n        return changeFn(false);\n      });\n    }\n    /**\n     * Re-calculates the value and validation status of the control.\n     *\n     * By default, it will also update the value and validity of its ancestors.\n     * @param {{onlySelf: Boolean, emitEvent: Booelan}} options\n     */\n\n  }, {\n    key: \"updateValueAndValidity\",\n    value: function updateValueAndValidity() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.setInitialStatus();\n      this._updateValue();\n      var shouldValidate = this.enabled && (this.updateOn !== \"submit\" || this.submitted);\n      if (shouldValidate) {\n        this._cancelExistingSubscription();\n        this.errors = this._runValidator();\n        this.status = this._calculateStatus();\n        if (this.status === VALID || this.status === PENDING) {\n          this._runAsyncValidator(true);\n        }\n      }\n      if (options.emitEvent !== false) {\n        this.valueChanges.next(this.value);\n        this.statusChanges.next(this.status);\n        this.stateChanges.next();\n      }\n      if (this.parent && !options.onlySelf) {\n        this.parent.updateValueAndValidity(options);\n      }\n    }\n    /**\n     * Marks the control as `touched`.\n     *\n     * This will also mark all direct ancestors as `touched` to maintain\n     * the model.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsTouched\",\n    value: function markAsTouched() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.touched = true;\n      if (this._parent && !opts.onlySelf) {\n        this._parent.markAsTouched(opts);\n      }\n      if (opts.emitEvent) {\n        this.stateChanges.next();\n      }\n    }\n    /**\n     * Marks the control as `submitted`.\n     *\n     * If the control has any children, it will also mark all children as `submitted`\n     * @param {{emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsSubmitted\",\n    value: function markAsSubmitted() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.submitted = true;\n\n      this._forEachChild(function (control) {\n        control.markAsSubmitted();\n      });\n\n      if (opts.emitEvent !== false) {\n        this.stateChanges.next();\n      }\n    }\n    /**\n     * Marks the control as `unsubmitted`.\n     *\n     * If the control has any children, it will also mark all children as `unsubmitted`.\n     *\n     * @param {{emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsUnsubmitted\",\n    value: function markAsUnsubmitted() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.submitted = false;\n\n      this._forEachChild(function (control) {\n        control.markAsUnsubmitted({\n          onlySelf: true\n        });\n      });\n\n      if (opts.emitEvent !== false) {\n        this.stateChanges.next();\n      }\n    }\n    /**\n     * Marks the control as `pristine`.\n     *\n     * If the control has any children, it will also mark all children as `pristine`\n     * to maintain the model, and re-calculate the `pristine` status of all parent\n     * controls.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsPristine\",\n    value: function markAsPristine() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.pristine = true;\n      this._pendingDirty = false;\n      if (opts.emitEvent) {\n        this.stateChanges.next();\n      }\n      this._forEachChild(function (control) {\n        control.markAsPristine({\n          onlySelf: true\n        });\n      });\n      if (this._parent && !opts.onlySelf) {\n        this._parent._updatePristine(opts);\n      }\n    }\n    /**\n     * Marks the control as `untouched`.\n     *\n     * If the control has any children, it will also mark all children as `untouched`\n     * to maintain the model, and re-calculate the `touched` status of all parent\n     * controls.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsUntouched\",\n    value: function markAsUntouched() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.touched = false;\n      this._pendingTouched = false;\n      this._forEachChild(function (control) {\n        control.markAsUntouched({\n          onlySelf: true\n        });\n      });\n      if (this._parent && !opts.onlySelf) {\n        this._parent._updateTouched(opts);\n      }\n      if (opts.emitEvent) {\n        this.stateChanges.next();\n      }\n    }\n    /**\n     * Marks the control as `dirty`.\n     *\n     * This will also mark all direct ancestors as `dirty` to maintain\n     * the model.\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsDirty\",\n    value: function markAsDirty() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.pristine = false;\n      if (opts.emitEvent) {\n        this.stateChanges.next();\n      }\n      if (this._parent && !opts.onlySelf) {\n        this._parent.markAsDirty(opts);\n      }\n    }\n    /**\n     * Marks the control as `pending`.\n     * @param {{onlySelf: Boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"markAsPending\",\n    value: function markAsPending() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.status = PENDING;\n\n      if (this._parent && !opts.onlySelf) {\n        this._parent.markAsPending(opts);\n      }\n    }\n    /**\n     * Sets the synchronous validators that are active on this control.  Calling\n     * this will overwrite any existing sync validators.\n     * @param {Function|Function[]|null} newValidator\n     * @return {void}\n     */\n\n  }, {\n    key: \"setValidators\",\n    value: function setValidators(newValidator) {\n      this.validator = coerceToValidator(newValidator);\n    }\n    /**\n     * Sets the async validators that are active on this control. Calling this\n     * will overwrite any existing async validators.\n     */\n\n  }, {\n    key: \"setAsyncValidators\",\n    value: function setAsyncValidators(newValidator) {\n      this.asyncValidator = coerceToAsyncValidator(newValidator);\n    }\n    /**\n     * Sets errors on a form control.\n     *\n     * This is used when validations are run manually by the user, rather than automatically.\n     *\n     * Calling `setErrors` will also update the validity of the parent control.\n     *\n     * ### Example\n     *\n     * ```\n     * const login = new FormControl(\"someLogin\");\n     * login.setErrors({\n     *   \"notUnique\": true\n     * });\n     *\n     * ```\n     * @param {{onlySelf: boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"setErrors\",\n    value: function setErrors(errors) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this.errors = errors;\n      this._updateControlsErrors(opts.emitEvent !== false);\n    }\n    /**\n     * Retrieves a child control given the control's name or path.\n     *\n     * Paths can be passed in as an array or a string delimited by a dot.\n     *\n     * To get a control nested within a `person` sub-group:\n     *\n     * * `this.form.get('person.name');`\n     *\n     * -OR-\n     *\n     * * `this.form.get(['person', 'name']);`\n     * @param {(String|Number)[]|String} path\n     * @return {AbstractControl|null}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get$$1(path) {\n      return _find(this, path, \".\");\n    }\n    /**\n     * Returns error data if the control with the given path has the error specified. Otherwise\n     * returns null or undefined.\n     *\n     * If no path is given, it checks for the error on the present control.\n     * @param {String} errorCode\n     * @param {(String|Number)[]|String} path\n     */\n\n  }, {\n    key: \"getError\",\n    value: function getError(errorCode, path) {\n      var control = path ? this.get(path) : this;\n      return control && control.errors ? control.errors[errorCode] : null;\n    }\n    /**\n     * Returns true if the control with the given path has the error specified. Otherwise\n     * returns false.\n     *\n     * If no path is given, it checks for the error on the present control.\n     * @param {String} errorCode\n     * @param {(String|Number)[]|String} path\n     * @return {Booelan}\n     */\n\n  }, {\n    key: \"hasError\",\n    value: function hasError(errorCode, path) {\n      return !!this.getError(errorCode, path);\n    }\n    /**\n     * Empties out the sync validator list.\n     */\n\n  }, {\n    key: \"clearValidators\",\n    value: function clearValidators() {\n      this.validator = null;\n    }\n    /**\n     * Empties out the async validator list.\n     */\n\n  }, {\n    key: \"clearAsyncValidators\",\n    value: function clearAsyncValidators() {\n      this.asyncValidator = null;\n    }\n    /**\n     * @param {FormGroup|FormArray} parent\n     * @return {Void}\n     */\n\n  }, {\n    key: \"setParent\",\n    value: function setParent(parent) {\n      this._parent = parent;\n    }\n    /**\n     * @param {Boolean} onlySelf\n     */\n\n  }, {\n    key: \"_updateAncestors\",\n    value: function _updateAncestors(onlySelf) {\n      if (this._parent && !onlySelf) {\n        this._parent.updateValueAndValidity();\n        this._parent._updatePristine();\n        this._parent._updateTouched();\n      }\n    }\n    /**\n     * @param {String} status\n     * @return {Booelan}\n     */\n\n  }, {\n    key: \"_anyControlsHaveStatus\",\n    value: function _anyControlsHaveStatus(status) {\n      return this._anyControls(function (control) {\n        return control.status === status;\n      });\n    }\n    /**\n     * @return {String}\n     */\n\n  }, {\n    key: \"_calculateStatus\",\n    value: function _calculateStatus() {\n      if (this._allControlsDisabled()) return DISABLED;\n      if (this.errors) return INVALID;\n      if (this._anyControlsHaveStatus(PENDING)) return PENDING;\n      if (this._anyControlsHaveStatus(INVALID)) return INVALID;\n      return VALID;\n    }\n  }, {\n    key: \"_runValidator\",\n    value: function _runValidator() {\n      return this.validator ? this.validator(this) : null;\n    }\n    /**\n     * @param {Booelan} emitEvent\n     * @return {void}\n     */\n\n  }, {\n    key: \"_runAsyncValidator\",\n    value: function _runAsyncValidator(emitEvent) {\n      var _this = this;\n\n      if (this.asyncValidator) {\n        this.status = PENDING;\n        var obs = toObservable(this.asyncValidator(this));\n        this._asyncValidationSubscription = obs.subscribe(function (errors) {\n          return _this.setErrors(errors, {\n            emitEvent: emitEvent\n          });\n        });\n      }\n    }\n  }, {\n    key: \"_cancelExistingSubscription\",\n    value: function _cancelExistingSubscription() {\n      if (this._asyncValidationSubscription) {\n        this._asyncValidationSubscription.unsubscribe();\n      }\n    }\n    /**\n     * @param {{onlySelf: boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"_updatePristine\",\n    value: function _updatePristine() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.pristine = !this._anyControlsDirty();\n      if (this._parent && !opts.onlySelf) {\n        this._parent._updatePristine(opts);\n      }\n    }\n    /**\n     * @param {{onlySelf: boolean}} opts\n     * @return {void}\n     */\n\n  }, {\n    key: \"_updateTouched\",\n    value: function _updateTouched() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.touched = this._anyControlsTouched();\n      if (this._parent && !opts.onlySelf) {\n        this._parent._updateTouched(opts);\n      }\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_anyControlsDirty\",\n    value: function _anyControlsDirty() {\n      return this._anyControls(function (control) {\n        return control.dirty;\n      });\n    }\n  }, {\n    key: \"_anyControlsUnsubmitted\",\n    value: function _anyControlsUnsubmitted() {\n      return this._anyControls(function (control) {\n        return !control.submitted;\n      });\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_anyControlsTouched\",\n    value: function _anyControlsTouched() {\n      return this._anyControls(function (control) {\n        return control.touched;\n      });\n    }\n    /**\n     * @param {Booelan} emitEvent\n     * @return {void}\n     */\n\n  }, {\n    key: \"_updateControlsErrors\",\n    value: function _updateControlsErrors(emitEvent) {\n      this.status = this._calculateStatus();\n      if (emitEvent) {\n        this.statusChanges.next();\n        this.stateChanges.next();\n      }\n      if (this._parent) {\n        this._parent._updateControlsErrors(emitEvent);\n      }\n    }\n  }, {\n    key: \"_initObservables\",\n    value: function _initObservables() {\n      this.valueChanges = new Observable();\n      this.statusChanges = new Observable();\n      this.stateChanges = new Observable();\n    }\n    // Abstarct Methods\n    /**\n     * @param {Function} cb\n     * @return {void}\n     */\n\n  }, {\n    key: \"_forEachChild\",\n    value: function _forEachChild(cb) {}\n  }, {\n    key: \"_updateValue\",\n    value: function _updateValue() {}\n  }, {\n    key: \"_allControlsDisabled\",\n    value: function _allControlsDisabled() {}\n  }, {\n    key: \"_anyControls\",\n    value: function _anyControls() {}\n  }, {\n    key: \"reset\",\n    value: function reset(value, options) {}\n  }, {\n    key: \"setValue\",\n    value: function setValue() {}\n  }, {\n    key: \"patchValue\",\n    value: function patchValue() {}\n  }, {\n    key: \"_registerOnCollectionChange\",\n    value: function _registerOnCollectionChange(fn) {\n      this._onCollectionChange = fn;\n    }\n    /**\n     * @param {{validators: Function|Function[]|null, asyncValidators: Function|Function[]|null, updateOn: 'change' | 'blur' | 'submit'}} opts\n     * @return {Void}\n     */\n\n  }, {\n    key: \"_setUpdateStrategy\",\n    value: function _setUpdateStrategy(opts) {\n      if (isOptionsObj(opts) && opts.updateOn != null) {\n        this._updateOn = opts.updateOn;\n      }\n    }\n  }, {\n    key: \"updateOn\",\n    get: function get$$1() {\n      return this._updateOn ? this._updateOn : this.parent ? this.parent.updateOn : \"change\";\n    }\n    /**\n     * A control is `dirty` if the user has changed the value\n     * in the UI.\n     *\n     * Note that programmatic changes to a control's value will\n     * *not* mark it dirty.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"dirty\",\n    get: function get$$1() {\n      return !this.pristine;\n    }\n    /**\n     * A control is `valid` when its `status === VALID`.\n     *\n     * In order to have this status, the control must have passed all its\n     * validation checks.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"valid\",\n    get: function get$$1() {\n      return this.status === VALID;\n    }\n    /**\n     * A control is `invalid` when its `status === INVALID`.\n     *\n     * In order to have this status, the control must have failed\n     * at least one of its validation checks.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"invalid\",\n    get: function get$$1() {\n      return this.status === INVALID;\n    }\n    /**\n     * A control is `pending` when its `status === PENDING`.\n     *\n     * In order to have this status, the control must be in the\n     * middle of conducting a validation check.\n     */\n\n  }, {\n    key: \"pending\",\n    get: function get$$1() {\n      return this.status === PENDING;\n    }\n    /**\n     * The parent control.\n     * * @return {FormGroup|FormArray}\n     */\n\n  }, {\n    key: \"parent\",\n    get: function get$$1() {\n      return this._parent;\n    }\n    /**\n     * A control is `untouched` if the user has not yet triggered\n     * a `blur` event on it.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"untouched\",\n    get: function get$$1() {\n      return !this.touched;\n    }\n    /**\n     * A control is `enabled` as long as its `status !== DISABLED`.\n     *\n     * In other words, it has a status of `VALID`, `INVALID`, or\n     * `PENDING`.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"enabled\",\n    get: function get$$1() {\n      return this.status !== DISABLED;\n    }\n    /**\n     * A control is disabled if it's status is `DISABLED`\n     */\n\n  }, {\n    key: \"disabled\",\n    get: function get$$1() {\n      return this.status === DISABLED;\n    }\n    /**\n     * Retrieves the top-level ancestor of this control.\n     * @return {AbstractControl}\n     */\n\n  }, {\n    key: \"root\",\n    get: function get$$1() {\n      var x = this;\n      while (x._parent) {\n        x = x._parent;\n      }\n      return x;\n    }\n  }]);\n  return AbstractControl;\n}();\nvar FormControl = function (_AbstractControl) {\n  inherits(FormControl, _AbstractControl);\n\n  function FormControl(formState, validatorOrOpts, asyncValidator) {\n    classCallCheck(this, FormControl);\n\n    var _this2 = possibleConstructorReturn(this, (FormControl.__proto__ || Object.getPrototypeOf(FormControl)).call(this, coerceToValidator(validatorOrOpts), coerceToAsyncValidator(asyncValidator, validatorOrOpts)));\n\n    _this2.formState = formState;\n    _this2.validatorsOrOpts = validatorOrOpts;\n    _this2._applyFormState(formState);\n    _this2._setUpdateStrategy(validatorOrOpts);\n    _this2._pendingChange = true;\n    _this2._pendingDirty = false;\n    _this2._pendingTouched = false;\n    /**\n     * A control is `active` when its focused.\n     */\n    _this2.active = false;\n    _this2.onValueChanges = new Observable();\n    _this2.onBlurChanges = new Observable();\n    _this2.updateValueAndValidity({\n      onlySelf: true,\n      emitEvent: false\n    });\n    _this2._initObservables();\n    /**\n     * Called whenevers an onChange event triggers.\n     * Updates the control value according to the update strategy.\n     *\n     * @param {any} event\n     * @return {void}\n     */\n    _this2.onChange = function (event) {\n      var value = getControlValue(event);\n      var isDirty = value !== _this2.value;\n      if (_this2.updateOn !== \"change\") {\n        _this2._pendingValue = value;\n        _this2._pendingChange = true;\n        if (isDirty && !_this2._pendingDirty) {\n          _this2._pendingDirty = true;\n        }\n        _this2.stateChanges.next();\n      } else {\n        if (isDirty && !_this2.dirty) {\n          _this2.markAsDirty();\n        }\n        _this2.setValue(value);\n      }\n      _this2.onValueChanges.next(value);\n    };\n    /**\n     * Called whenevers an onBlur event triggers.\n     */\n\n    _this2.onBlur = function () {\n      _this2.active = false;\n      if (_this2.updateOn === \"blur\") {\n        if (_this2._pendingDirty && !_this2.dirty) {\n          _this2.markAsDirty();\n        }\n        if (!_this2.touched) {\n          _this2.markAsTouched();\n        }\n        _this2.setValue(_this2._pendingValue);\n      } else if (_this2.updateOn === \"submit\") {\n        _this2._pendingTouched = true;\n      } else {\n        var emitChangeToView = !_this2.touched;\n        if (!_this2.touched) {\n          _this2.markAsTouched();\n        }\n        if (emitChangeToView) {\n          _this2.stateChanges.next();\n        }\n      }\n      _this2.onBlurChanges.next(_this2._pendingValue);\n    };\n    /**\n     * Called whenevers an onFocus event triggers.\n     */\n    _this2.onFocus = function () {\n      _this2.active = true;\n      _this2.stateChanges.next();\n    };\n    /**\n     * Returns the required props to bind an input element.\n     * @param {string} inputType\n     * @param {any} value\n     */\n    _this2.handler = function (inputType, value) {\n      return getHandler(inputType, value, _this2);\n    };\n    return _this2;\n  }\n  /**\n   * A control is `inactive` when its not focused.\n   * @return {Boolean}\n   */\n\n\n  createClass(FormControl, [{\n    key: \"setValue\",\n\n    /**\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} options\n     * @return {void}\n     */\n    value: function setValue(value) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this.value = this._pendingValue = value;\n      this.updateValueAndValidity(options);\n    }\n    /**\n     * Patches the value of a control.\n     *\n     * This function is functionally the same as setValue at this level.\n     * It exists for symmetry with patchValue on `FormGroups` and\n     * `FormArrays`, where it does behave differently.\n     * @param {any} value\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"patchValue\",\n    value: function patchValue(value) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this.setValue(value, options);\n    }\n\n    /**\n     * @param {{onlySelf: Boolean, emitEvent: Boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var formState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._applyFormState(formState);\n      this.markAsPristine(options);\n      this.markAsUntouched(options);\n      this.setValue(this.value, options);\n      this._pendingChange = false;\n    }\n    /**\n     * @param {Function} condition\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_anyControls\",\n    value: function _anyControls(condition) {\n      return false;\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_allControlsDisabled\",\n    value: function _allControlsDisabled() {\n      return this.disabled;\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_isBoxedValue\",\n    value: function _isBoxedValue(formState) {\n      return (typeof formState === \"undefined\" ? \"undefined\" : _typeof(formState)) === \"object\" && formState !== null && Object.keys(formState).length === 2 && \"value\" in formState && \"disabled\" in formState;\n    }\n  }, {\n    key: \"_applyFormState\",\n    value: function _applyFormState(formState) {\n      if (this._isBoxedValue(formState)) {\n        this.value = this._pendingValue = formState.value;\n        if (formState.disabled) {\n          this.disable({\n            onlySelf: true,\n            emitEvent: false\n          });\n        } else {\n          this.enable({\n            onlySelf: true,\n            emitEvent: false\n          });\n        }\n      } else {\n        this.value = this._pendingValue = formState;\n      }\n    }\n  }, {\n    key: \"_syncPendingControls\",\n    value: function _syncPendingControls() {\n      if (this.updateOn === \"submit\") {\n        if (this._pendingDirty) this.markAsDirty();\n        if (this._pendingTouched) this.markAsTouched();\n        if (this._pendingChange) {\n          this.setValue(this._pendingValue);\n          this._pendingChange = false;\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"inactive\",\n    get: function get$$1() {\n      return !this.active;\n    }\n  }]);\n  return FormControl;\n}(AbstractControl);\nvar FormGroup = function (_AbstractControl2) {\n  inherits(FormGroup, _AbstractControl2);\n\n  function FormGroup(controls, validatorOrOpts, asyncValidator) {\n    classCallCheck(this, FormGroup);\n\n    var _this3 = possibleConstructorReturn(this, (FormGroup.__proto__ || Object.getPrototypeOf(FormGroup)).call(this, coerceToValidator(validatorOrOpts), coerceToAsyncValidator(asyncValidator, validatorOrOpts)));\n\n    _this3.controls = controls;\n    _this3.validatorOrOpts = validatorOrOpts;\n    _this3._initObservables();\n    _this3._setUpdateStrategy(validatorOrOpts);\n    _this3._setUpControls();\n    _this3.updateValueAndValidity({\n      onlySelf: true,\n      emitEvent: false\n    });\n    _this3.handleSubmit = function (e) {\n      if (e) {\n        e.preventDefault();\n      }\n      if (_this3._anyControlsUnsubmitted()) {\n        _this3.markAsSubmitted({\n          emitEvent: false\n        });\n      }\n      if (!_this3._syncPendingControls()) {\n        _this3.updateValueAndValidity();\n      }\n    };\n    return _this3;\n  }\n  /**\n   * Check whether there is an enabled control with the given name in the group.\n   *\n   * It will return false for disabled controls. If you'd like to check for existence in the group\n   * only, use `AbstractControl` get instead.\n   * @param {String} controlName\n   * @return {Boolean}\n   */\n\n\n  createClass(FormGroup, [{\n    key: \"contains\",\n    value: function contains(controlName) {\n      return this.controls.hasOwnProperty(controlName) && this.controls[controlName].enabled;\n    }\n    /**\n     * Registers a control with the group's list of controls.\n     *\n     * This method does not update the value or validity of the control, so for most cases you'll want\n     * to use addControl instead.\n     * @param {String} name\n     * @param {AbstractControl} control\n     * @return {AbstractControl}\n     */\n\n  }, {\n    key: \"registerControl\",\n    value: function registerControl(name, control) {\n      if (this.controls[name]) return this.controls[name];\n      this.controls[name] = control;\n      control.setParent(this);\n      control._registerOnCollectionChange(this._onCollectionChange);\n      return control;\n    }\n\n    /**\n     * Add a control to this group.\n     * @param {String} name\n     * @param {AbstractControl} control\n     * @return {void}\n     */\n\n  }, {\n    key: \"addControl\",\n    value: function addControl(name, control) {\n      this.registerControl(name, control);\n      this.updateValueAndValidity();\n      this._onCollectionChange();\n    }\n\n    /**\n     * Remove a control from this group.\n     * @param {String} name\n     * @return {void}\n     */\n\n  }, {\n    key: \"removeControl\",\n    value: function removeControl(name) {\n      if (this.controls[name]) this.controls[name]._registerOnCollectionChange(function () {});\n      delete this.controls[name];\n      this.updateValueAndValidity();\n      this._onCollectionChange();\n    }\n\n    /**\n     * Replace an existing control.\n     * @param {String} name\n     * @param {AbstractControl} control\n     * @return {void}\n     */\n\n  }, {\n    key: \"setControl\",\n    value: function setControl(name, control) {\n      if (this.controls[name]) this.controls[name]._registerOnCollectionChange(function () {});\n      delete this.controls[name];\n      if (control) this.registerControl(name, control);\n      this.updateValueAndValidity();\n      this._onCollectionChange();\n    }\n    /**\n     * Sets the value of the FormGroup. It accepts an object that matches\n     * the structure of the group, with control names as keys.\n     *\n     * This method performs strict checks, so it will throw an error if you try\n     * to set the value of a control that doesn't exist or if you exclude the\n     * value of a control.\n     *\n     *  ### Example\n     *  form.setValue({first: 'Jon', last: 'Snow'});\n     *  console.log(form.value);   // {first: 'Jon', last: 'Snow'}\n     * @param {{[key: string]: any}} value\n     * @param {{onlySelf: boolean, emitEvent: boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._checkAllValuesPresent(value);\n      Object.keys(value).forEach(function (name) {\n        _this4._throwIfControlMissing(name);\n        _this4.controls[name].setValue(value[name], {\n          onlySelf: true,\n          emitEvent: options.emitEvent\n        });\n      });\n      this.updateValueAndValidity(options);\n    }\n    /**\n     * Resets the `FormGroup`.\n     * @param {any} value\n     * @param {{onlySelf: boolean, emitEvent: boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._forEachChild(function (control, name) {\n        control.reset(value[name], {\n          onlySelf: true,\n          emitEvent: options.emitEvent\n        });\n      });\n      this.updateValueAndValidity(options);\n      this.markAsUnsubmitted();\n      this._updatePristine(options);\n      this._updateTouched(options);\n    }\n    /**\n     *  Patches the value of the FormGroup. It accepts an object with control\n     *  names as keys, and will do its best to match the values to the correct controls\n     *  in the group.\n     *\n     *  It accepts both super-sets and sub-sets of the group without throwing an error.\n     *\n     *  ### Example\n     *  ```\n     *  console.log(form.value);   // {first: null, last: null}\n     *\n     *  form.patchValue({first: 'Jon'});\n     *  console.log(form.value);   // {first: 'Jon', last: null}\n     *\n     *  ```\n     * @param {{[key: string]: any}} value\n     * @param {{onlySelf: boolean, emitEvent: boolean}} options\n     * @return {void}\n     */\n\n  }, {\n    key: \"patchValue\",\n    value: function patchValue(value) {\n      var _this5 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      Object.keys(value).forEach(function (name) {\n        if (_this5.controls[name]) {\n          _this5.controls[name].patchValue(value[name], {\n            onlySelf: true,\n            emitEvent: options.emitEvent\n          });\n        }\n      });\n      this.updateValueAndValidity(options);\n    }\n    /**\n     * The aggregate value of the FormGroup, including any disabled controls.\n     *\n     * If you'd like to include all values regardless of disabled status, use this method.\n     * Otherwise, the `value` property is the best way to get the value of the group.\n     */\n\n  }, {\n    key: \"getRawValue\",\n    value: function getRawValue() {\n      return this._reduceChildren({}, function (acc, control, name) {\n        acc[name] = control instanceof FormControl ? control.value : control.getRawValue();\n        return acc;\n      });\n    }\n    /**\n     * @param {{(v: any, k: String) => void}} callback\n     * @return {void}\n     */\n\n  }, {\n    key: \"_forEachChild\",\n    value: function _forEachChild(callback) {\n      var _this6 = this;\n\n      Object.keys(this.controls).forEach(function (k) {\n        return callback(_this6.controls[k], k);\n      });\n    }\n  }, {\n    key: \"_onCollectionChange\",\n    value: function _onCollectionChange() {}\n    /**\n     * @param {Function} condition\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_anyControls\",\n    value: function _anyControls(condition) {\n      var _this7 = this;\n\n      var res = false;\n      this._forEachChild(function (control, name) {\n        res = res || _this7.contains(name) && condition(control);\n      });\n      return res;\n    }\n  }, {\n    key: \"_updateValue\",\n    value: function _updateValue() {\n      this.value = this._reduceValue();\n    }\n  }, {\n    key: \"_reduceValue\",\n    value: function _reduceValue() {\n      var _this8 = this;\n\n      return this._reduceChildren({}, function (acc, control, name) {\n        if (control.enabled || _this8.disabled) {\n          acc[name] = control.value;\n        }\n        return acc;\n      });\n    }\n  }, {\n    key: \"_reduceErrors\",\n    value: function _reduceErrors() {\n      var _this9 = this;\n\n      return this._reduceChildren({}, function (acc, control, name) {\n        if (control.enabled || _this9.disabled) {\n          acc[name] = control.errors;\n        }\n        return acc;\n      });\n    }\n    /**\n     * @param {Function} fn\n     */\n\n  }, {\n    key: \"_reduceChildren\",\n    value: function _reduceChildren(initValue, fn) {\n      var res = initValue;\n      this._forEachChild(function (control, name) {\n        res = fn(res, control, name);\n      });\n      return res;\n    }\n  }, {\n    key: \"_setUpControls\",\n    value: function _setUpControls() {\n      var _this10 = this;\n\n      this._forEachChild(function (control) {\n        control.setParent(_this10);\n        control._registerOnCollectionChange(_this10._onCollectionChange);\n      });\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_allControlsDisabled\",\n    value: function _allControlsDisabled() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Object.keys(this.controls)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var controlName = _step.value;\n\n          if (this.controls[controlName].enabled) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return Object.keys(this.controls).length > 0 || this.disabled;\n    }\n  }, {\n    key: \"_checkAllValuesPresent\",\n    value: function _checkAllValuesPresent(value) {\n      this._forEachChild(function (control, name) {\n        if (value[name] === undefined) {\n          throw new Error(\"Must supply a value for form control with name: '\" + name + \"'.\");\n        }\n      });\n    }\n  }, {\n    key: \"_throwIfControlMissing\",\n    value: function _throwIfControlMissing(name) {\n      if (!Object.keys(this.controls).length) {\n        throw new Error(\"\\n        There are no form controls registered with this group yet.\\n      \");\n      }\n      if (!this.controls[name]) {\n        throw new Error(\"Cannot find form control with name: \" + name + \".\");\n      }\n    }\n  }, {\n    key: \"_syncPendingControls\",\n    value: function _syncPendingControls() {\n      var subtreeUpdated = this._reduceChildren(false, function (updated, child) {\n        return child._syncPendingControls() ? true : updated;\n      });\n      if (subtreeUpdated) this.updateValueAndValidity();\n      return subtreeUpdated;\n    }\n  }]);\n  return FormGroup;\n}(AbstractControl);\nvar FormArray = function (_AbstractControl3) {\n  inherits(FormArray, _AbstractControl3);\n\n  function FormArray(controls, validatorOrOpts, asyncValidator) {\n    classCallCheck(this, FormArray);\n\n    var _this11 = possibleConstructorReturn(this, (FormArray.__proto__ || Object.getPrototypeOf(FormArray)).call(this, coerceToValidator(validatorOrOpts), coerceToAsyncValidator(asyncValidator, validatorOrOpts)));\n\n    _this11.controls = controls;\n    _this11.validatorOrOpts = validatorOrOpts;\n    _this11._initObservables();\n    _this11._setUpdateStrategy(validatorOrOpts);\n    _this11._setUpControls();\n    _this11.updateValueAndValidity({\n      onlySelf: true,\n      emitEvent: false\n    });\n    _this11.handleSubmit = function (e) {\n      if (e) {\n        e.preventDefault();\n      }\n      if (_this11._anyControlsUnsubmitted()) {\n        _this11.markAsSubmitted({\n          emitEvent: false\n        });\n      }\n      if (!_this11._syncPendingControls()) {\n        _this11.updateValueAndValidity();\n      }\n    };\n    return _this11;\n  }\n  /**\n   * Get the `AbstractControl` at the given `index` in the array.\n   * @param {Number} index\n   * @return {AbstractControl}\n   */\n\n\n  createClass(FormArray, [{\n    key: \"at\",\n    value: function at(index) {\n      return this.controls[index];\n    }\n\n    /**\n     * Insert a new `AbstractControl` at the end of the array.\n     * @param {AbstractControl} control\n     * @return {Void}\n     */\n\n  }, {\n    key: \"push\",\n    value: function push(control) {\n      this.controls.push(control);\n      this._registerControl(control);\n      this.updateValueAndValidity();\n      this._onCollectionChange();\n    }\n\n    /**\n     * Insert a new `AbstractControl` at the given `index` in the array.\n     * @param {Number} index\n     * @param {AbstractControl} control\n     */\n\n  }, {\n    key: \"insert\",\n    value: function insert(index, control) {\n      this.controls.splice(index, 0, control);\n      this._registerControl(control);\n      this.updateValueAndValidity();\n      this._onCollectionChange();\n    }\n\n    /**\n     * Remove the control at the given `index` in the array.\n     * @param {Number} index\n     */\n\n  }, {\n    key: \"removeAt\",\n    value: function removeAt(index) {\n      if (this.controls[index]) this.controls[index]._registerOnCollectionChange(function () {});\n      this.controls.splice(index, 1);\n      this.updateValueAndValidity();\n      this._onCollectionChange();\n    }\n\n    /**\n     * Replace an existing control.\n     * @param {Number} index\n     * @param {AbstractControl} control\n     */\n\n  }, {\n    key: \"setControl\",\n    value: function setControl(index, control) {\n      if (this.controls[index]) this.controls[index]._registerOnCollectionChange(function () {});\n      this.controls.splice(index, 1);\n\n      if (control) {\n        this.controls.splice(index, 0, control);\n        this._registerControl(control);\n      }\n\n      this.updateValueAndValidity();\n      this._onCollectionChange();\n    }\n\n    /**\n     * Length of the control array.\n     * @return {Number}\n     */\n\n  }, {\n    key: \"setValue\",\n\n\n    /**\n     * Sets the value of the `FormArray`. It accepts an array that matches\n     * the structure of the control.\n     * @param {any[]} value\n     * @param {{onlySelf?: boolean, emitEvent?: boolean}} options\n     */\n    value: function setValue(value) {\n      var _this12 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._checkAllValuesPresent(value);\n      value.forEach(function (newValue, index) {\n        _this12._throwIfControlMissing(index);\n        _this12.at(index).setValue(newValue, {\n          onlySelf: true,\n          emitEvent: options.emitEvent\n        });\n      });\n      this.updateValueAndValidity(options);\n    }\n\n    /**\n     *  Patches the value of the `FormArray`. It accepts an array that matches the\n     *  structure of the control, and will do its best to match the values to the correct\n     *  controls in the group.\n     * @param {any[]} value\n     * @param {{onlySelf?: boolean, emitEvent?: boolean}} options\n     */\n\n  }, {\n    key: \"patchValue\",\n    value: function patchValue(value) {\n      var _this13 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      value.forEach(function (newValue, index) {\n        if (_this13.at(index)) {\n          _this13.at(index).patchValue(newValue, {\n            onlySelf: true,\n            emitEvent: options.emitEvent\n          });\n        }\n      });\n      this.updateValueAndValidity(options);\n    }\n\n    /**\n     * Resets the `FormArray`.\n     * @param {any[]} value\n     * @param {{onlySelf?: boolean, emitEvent?: boolean}} options\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._forEachChild(function (control, index) {\n        control.reset(value[index], {\n          onlySelf: true,\n          emitEvent: options.emitEvent\n        });\n      });\n      this.updateValueAndValidity(options);\n      this.markAsUnsubmitted();\n      this._updatePristine(options);\n      this._updateTouched(options);\n    }\n\n    /**\n     * The aggregate value of the array, including any disabled controls.\n     *\n     * If you'd like to include all values regardless of disabled status, use this method.\n     * Otherwise, the `value` property is the best way to get the value of the array.\n     * @return {any[]}\n     */\n\n  }, {\n    key: \"getRawValue\",\n    value: function getRawValue() {\n      return this.controls.map(function (control) {\n        return control instanceof FormControl ? control.value : control.getRawValue();\n      });\n    }\n  }, {\n    key: \"_syncPendingControls\",\n    value: function _syncPendingControls() {\n      var subtreeUpdated = this.controls.reduce(function (updated, child) {\n        return child._syncPendingControls() ? true : updated;\n      }, false);\n      if (subtreeUpdated) this.updateValueAndValidity();\n      return subtreeUpdated;\n    }\n  }, {\n    key: \"_throwIfControlMissing\",\n    value: function _throwIfControlMissing(index) {\n      if (!this.controls.length) {\n        throw new Error(\"\\n        There are no form controls registered with this array yet.\\n      \");\n      }\n      if (!this.at(index)) {\n        throw new Error(\"Cannot find form control at index \" + index);\n      }\n    }\n  }, {\n    key: \"_forEachChild\",\n    value: function _forEachChild(cb) {\n      this.controls.forEach(function (control, index) {\n        cb(control, index);\n      });\n    }\n  }, {\n    key: \"_updateValue\",\n    value: function _updateValue() {\n      var _this14 = this;\n\n      this.value = this.controls.filter(function (control) {\n        return control.enabled || _this14.disabled;\n      }).map(function (control) {\n        return control.value;\n      });\n    }\n  }, {\n    key: \"_anyControls\",\n    value: function _anyControls(condition) {\n      return this.controls.some(function (control) {\n        return control.enabled && condition(control);\n      });\n    }\n  }, {\n    key: \"_setUpControls\",\n    value: function _setUpControls() {\n      var _this15 = this;\n\n      this._forEachChild(function (control) {\n        return _this15._registerControl(control);\n      });\n    }\n  }, {\n    key: \"_checkAllValuesPresent\",\n    value: function _checkAllValuesPresent(value) {\n      this._forEachChild(function (control, i) {\n        if (value[i] === undefined) {\n          throw new Error(\"Must supply a value for form control at index: \" + i + \".\");\n        }\n      });\n    }\n  }, {\n    key: \"_allControlsDisabled\",\n    value: function _allControlsDisabled() {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.controls[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var control = _step2.value;\n\n          if (control.enabled) return false;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return this.controls.length > 0 || this.disabled;\n    }\n  }, {\n    key: \"_registerControl\",\n    value: function _registerControl(control) {\n      control.setParent(this);\n      control._registerOnCollectionChange(this._onCollectionChange);\n    }\n  }, {\n    key: \"_onCollectionChange\",\n    value: function _onCollectionChange() {}\n  }, {\n    key: \"length\",\n    get: function get$$1() {\n      return this.controls.length;\n    }\n  }]);\n  return FormArray;\n}(AbstractControl);\n\nfunction _createControl(controlConfig) {\n  if (controlConfig instanceof FormControl || controlConfig instanceof FormGroup || controlConfig instanceof FormArray) {\n    return controlConfig;\n  } else if (Array.isArray(controlConfig)) {\n    var value = controlConfig[0];\n    var validator = controlConfig.length > 1 ? controlConfig[1] : null;\n    var asyncValidator = controlConfig.length > 2 ? controlConfig[2] : null;\n    var updateOn = controlConfig.length > 3 ? controlConfig[3] : null;\n    return FormBuilder.control(value, validator, asyncValidator, updateOn);\n  }\n  return FormBuilder.control(controlConfig);\n}\nfunction _reduceControls(controlsConfig) {\n  var controls = {};\n  Object.keys(controlsConfig).forEach(function (controlName) {\n    controls[controlName] = _createControl(controlsConfig[controlName]);\n  });\n  return controls;\n}\n\nvar FormBuilder = function () {\n  function FormBuilder() {\n    classCallCheck(this, FormBuilder);\n  }\n\n  createClass(FormBuilder, null, [{\n    key: 'group',\n\n    /**\n     * Construct a new `FormGroup` with the given map of configuration.\n     * Valid keys for the `extra` parameter map are `validators`, `asyncValidators` & `updateOn`.\n     * @param {{[key: string]: any}} controlsConfig\n     * @param {{[key: string]: any}|null} extra\n     * @return {FormGroup}\n     */\n    value: function group(controlsConfig, extra) {\n      var controls = _reduceControls(controlsConfig);\n      var validators = extra != null ? extra.validators : null;\n      var asyncValidators = extra != null ? extra.asyncValidators : null;\n      var updateOn = extra != null ? extra.updateOn : null;\n      return new FormGroup(controls, { validators: validators, asyncValidators: asyncValidators, updateOn: updateOn });\n    }\n    /**\n     * Construct a `FormArray` from the given `controlsConfig` array of\n     * Valid keys for the `extra` parameter map are `validators`, `asyncValidators` & `updateOn`.\n     */\n\n  }, {\n    key: 'array',\n    value: function array(controlsConfig, extra) {\n      var controls = controlsConfig.map(function (c) {\n        return _createControl(c);\n      });\n      var validators = extra != null ? extra.validators : null;\n      var asyncValidators = extra != null ? extra.asyncValidators : null;\n      var updateOn = extra != null ? extra.updateOn : null;\n      return new FormArray(controls, { validators: validators, asyncValidators: asyncValidators, updateOn: updateOn });\n    }\n\n    /**\n     * Construct a new `FormControl` with the given `formState`,`validator`,`asyncValidator`\n     * and `updateOn`\n     * `formState` can either be a standalone value for the form control or an object\n     * that contains both a value and a disabled status.\n     * @param {Object} formState\n     * @param {Function|Function[]|null} validator\n     * @param {Function|Function[]|null} asyncValidator\n     * @param {string} updatOn\n     * @return {FormControl}\n     */\n\n  }, {\n    key: 'control',\n    value: function control(formState, validators, asyncValidators, updateOn) {\n      return new FormControl(formState, { validators: validators, asyncValidators: asyncValidators, updateOn: updateOn });\n    }\n  }]);\n  return FormBuilder;\n}();\n\nvar Field = function (_React$Component) {\n  inherits(Field, _React$Component);\n\n  function Field() {\n    classCallCheck(this, Field);\n    return possibleConstructorReturn(this, (Field.__proto__ || Object.getPrototypeOf(Field)).apply(this, arguments));\n  }\n\n  createClass(Field, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var control = this.props.control;\n      // Add listener\n\n      this.addListener(control);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var control = this.props.control;\n\n      if (control !== prevProps.control) {\n        this.removeListener(control);\n        this.addListener(control);\n      }\n    }\n  }, {\n    key: 'addListener',\n    value: function addListener(control) {\n      var _this2 = this;\n\n      if (control) {\n        control.stateChanges.subscribe(function () {\n          _this2.forceUpdate();\n        });\n      }\n    }\n  }, {\n    key: 'removeListener',\n    value: function removeListener(control) {\n      if (control) {\n        if (control.stateChanges.observers) {\n          control.stateChanges.observers.forEach(function (observer) {\n            control.stateChanges.unsubscribe(observer);\n          });\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var control = this.props.control;\n      // Remove Listener\n\n      this.removeListener(control);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(props) {\n      if (!props.strict) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'getComponent',\n    value: function getComponent() {\n      var _props = this.props,\n          render = _props.render,\n          children = _props.children,\n          control = _props.control;\n\n      warning(control, 'Missing Control.Please make sure that an instance of FormControl, FormGroup or FormArray must be passed as a control prop in the Field component');\n      if (control) {\n        // Render function as child\n        if (isFunction(children)) {\n          return children(control);\n        }\n        // Render function as render prop\n        if (isFunction(render)) {\n          return render(control);\n        }\n        return null;\n      }\n      return null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.getComponent();\n    }\n  }]);\n  return Field;\n}(React.Component);\n\n\nField.defaultProps = {\n  strict: true\n};\n\nField.propTypes = {\n  strict: PropTypes.bool,\n  control: PropTypes.oneOfType([PropTypes.instanceOf(FormControl), PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]).isRequired,\n  render: PropTypes.func\n};\n\nvar getControlFromReference = function getControlFromReference(reference, options, formState) {\n  switch (reference) {\n    case 'FormGroup':\n      return new FormGroup({}, options);\n    case 'FormArray':\n      return new FormArray([], options);\n    case 'FormControl':\n      return new FormControl(formState, options);\n    default:\n      return null;\n  }\n};\nvar configureControl = function configureControl(props, context, reference) {\n  var name = props.name,\n      parent = props.parent,\n      options = props.options,\n      index = props.index,\n      control = props.control,\n      formState = props.formState,\n      meta = props.meta;\n\n  var parentControl = parent || context.parentControl;\n  var returnControl = null;\n  if (control) {\n    if (reference === 'FormGroup' && control instanceof FormGroup) {\n      returnControl = control;\n    } else if (reference === 'FormArray' && control instanceof FormArray) {\n      returnControl = control;\n    } else if (reference === 'FormControl' && control instanceof FormControl) {\n      returnControl = control;\n    } else {\n      warning(null, 'Control should be an instance of ' + reference + '.');\n    }\n  } else {\n    if (name) {\n      /**\n       * The presence of name prop signifies two things:-\n       * 1. The group control has to be added as a nested control i.e parent should be present.\n       * 2. Parent must be an instance of FormGroup\n       */\n      warning(parentControl, 'Error in ' + name + ' control: Missing parent control.\\n             Please make sure that the component is wrapped in a FieldGroup or\\n             you can explicitly pass a parent control as a parent prop.');\n      warning(parentControl && parentControl instanceof FormGroup, 'Error in ' + name + ' control: A name prop can only be used if the parent is an instance of FormGroup,\\n             You can use the index prop instead of name, if the parent control is an instance of FormArray');\n      if (parentControl && parentControl instanceof FormGroup) {\n        /**\n         * Check the presence of the control, if a control is already present in the parent control\n         * then don't add a new control, return the same.\n         */\n        if (!parentControl.get(name)) {\n          parentControl.addControl(name, getControlFromReference(reference, options, formState));\n        }\n        returnControl = parentControl.get(name);\n      }\n    } else {\n      if (parentControl instanceof FormArray) {\n        /**\n         * If a index prop is defined then insert the control at a particular index otherwise\n         * push the control at the end of FormArray\n         */\n        var insertAtIndex = index !== undefined ? index : parentControl.controls.length;\n        parentControl.insert(insertAtIndex, getControlFromReference(reference, options, formState));\n        returnControl = parentControl.at(insertAtIndex);\n      } else {\n        // Create a new instance and return as control in case of FormArray and FormGroup\n        if (reference === 'FormGroup' || reference === 'FormArray') {\n          returnControl = getControlFromReference(reference, options, formState);\n        }\n      }\n    }\n  }\n  // Add the meta data about the control\n  if (returnControl && meta) {\n    returnControl.meta = meta;\n  }\n  return returnControl;\n};\n\nvar FieldGroup = function (_React$Component) {\n  inherits(FieldGroup, _React$Component);\n\n  function FieldGroup(props, context) {\n    classCallCheck(this, FieldGroup);\n\n    var _this = possibleConstructorReturn(this, (FieldGroup.__proto__ || Object.getPrototypeOf(FieldGroup)).call(this, props, context));\n\n    _this.control = configureControl(props, context, 'FormGroup');\n    return _this;\n  }\n\n  createClass(FieldGroup, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        parentControl: this.control\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          strict = _props.strict,\n          children = _props.children,\n          render = _props.render;\n\n      var FieldProps = {\n        control: this.control,\n        strict: strict,\n        render: render || children || null\n      };\n      return React.createElement(Field, FieldProps);\n    }\n  }]);\n  return FieldGroup;\n}(React.Component);\n\nFieldGroup.childContextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\nFieldGroup.contextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\n\nFieldGroup.defaultProps = {\n  strict: true\n};\n\nFieldGroup.propTypes = {\n  strict: PropTypes.bool,\n  render: PropTypes.func,\n  name: PropTypes.string,\n  index: PropTypes.number,\n  control: PropTypes.instanceOf(FormGroup),\n  options: PropTypes.shape({\n    validators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    asyncValidators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    updateOn: PropTypes.oneOf(['change', 'blur', 'submit'])\n  }),\n  parent: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n  meta: PropTypes.object\n};\n\nvar FieldControl = function (_React$Component) {\n  inherits(FieldControl, _React$Component);\n\n  function FieldControl(props, context) {\n    classCallCheck(this, FieldControl);\n\n    var _this = possibleConstructorReturn(this, (FieldControl.__proto__ || Object.getPrototypeOf(FieldControl)).call(this, props, context));\n\n    _this.control = configureControl(props, context, 'FormControl');\n    return _this;\n  }\n\n  createClass(FieldControl, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.name !== prevProps.name) {\n        this.control = configureControl(this.props, this.context, 'FormControl');\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          strict = _props.strict,\n          children = _props.children,\n          render = _props.render;\n\n      var FieldProps = {\n        control: this.control,\n        strict: strict,\n        render: render || children || null\n      };\n      return React.createElement(Field, FieldProps);\n    }\n  }]);\n  return FieldControl;\n}(React.Component);\n\n\nFieldControl.defaultProps = {\n  strict: true\n};\nFieldControl.propTypes = {\n  strict: PropTypes.bool,\n  render: PropTypes.func,\n  name: PropTypes.string,\n  index: PropTypes.number,\n  control: PropTypes.instanceOf(FormControl),\n  formState: PropTypes.oneOfType([PropTypes.shape({\n    value: PropTypes.any,\n    disabled: PropTypes.bool\n  }), PropTypes.any]),\n  options: PropTypes.shape({\n    validators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    asyncValidators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    updateOn: PropTypes.oneOf(['change', 'blur', 'submit'])\n  }),\n  parent: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n  meta: PropTypes.object\n};\nFieldControl.contextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\n\nvar FieldArray = function (_React$Component) {\n  inherits(FieldArray, _React$Component);\n\n  function FieldArray(props, context) {\n    classCallCheck(this, FieldArray);\n\n    var _this = possibleConstructorReturn(this, (FieldArray.__proto__ || Object.getPrototypeOf(FieldArray)).call(this, props, context));\n\n    _this.control = configureControl(props, context, 'FormArray');\n    return _this;\n  }\n\n  createClass(FieldArray, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        parentControl: this.control\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          strict = _props.strict,\n          children = _props.children,\n          render = _props.render;\n\n      var FieldProps = {\n        control: this.control,\n        strict: strict,\n        render: render || children || null\n      };\n      return React.createElement(Field, FieldProps);\n    }\n  }]);\n  return FieldArray;\n}(React.Component);\n\nFieldArray.childContextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\nFieldArray.contextTypes = {\n  parentControl: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)])\n};\nFieldArray.defaultProps = {\n  strict: true\n};\n\nFieldArray.propTypes = {\n  strict: PropTypes.bool,\n  render: PropTypes.func,\n  name: PropTypes.string,\n  index: PropTypes.number,\n  control: PropTypes.instanceOf(FormArray),\n  options: PropTypes.shape({\n    validators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    asyncValidators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    updateOn: PropTypes.oneOf(['change', 'blur', 'submit'])\n  }),\n  parent: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n  meta: PropTypes.object\n};\n\nvar FIELD_CONFIG_STRING = '$field_';\n\nvar FormGenerator = function (_React$Component) {\n  inherits(FormGenerator, _React$Component);\n\n  function FormGenerator(props) {\n    classCallCheck(this, FormGenerator);\n\n    // Intiate the form property\n    var _this = possibleConstructorReturn(this, (FormGenerator.__proto__ || Object.getPrototypeOf(FormGenerator)).call(this, props));\n\n    _this.form = null;\n    return _this;\n  }\n\n  createClass(FormGenerator, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.props.onMount(this.form);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.props.onMount(this.form);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      // Only Re-renders for changes in field config\n      if (nextProps.fieldConfig !== this.props.fieldConfig) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var onUnmount = this.props.onUnmount;\n\n      onUnmount();\n    }\n    // Create the form instance\n\n  }, {\n    key: 'configureForm',\n    value: function configureForm() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FormGroup';\n      var fieldConfig = this.props.fieldConfig;\n\n      this.form = configureControl(fieldConfig, {}, type);\n    }\n    // Creates the control from fieldConfig.\n\n  }, {\n    key: 'setControl',\n    value: function setControl(configProps, key) {\n      var _this2 = this;\n\n      var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      // Map the props to be passed in Field\n      var propsToBePassed = mapConfigToFieldProps(configProps);\n      // Set the key\n      propsToBePassed.key = key;\n      if (name) {\n        propsToBePassed.name = name;\n      }\n      // Set the component for $field_\n      if (name && name.startsWith(FIELD_CONFIG_STRING) || typeof configProps.index === 'string' && configProps.index.startsWith(FIELD_CONFIG_STRING)) {\n        // Only subscribe when isStatic is false\n        if (configProps.isStatic === false) {\n          return React.createElement(Field, Object.assign({}, { control: this.form }, propsToBePassed));\n        }\n        return propsToBePassed.render();\n      }\n\n      if (configProps.controls) {\n        if (configProps.controls instanceof Array) {\n          // If controls is an array then configure FormArray\n          if (!this.form) {\n            this.configureForm('FormArray');\n            propsToBePassed.control = this.form;\n          }\n          return React.createElement(FieldArray, Object.assign({}, propsToBePassed, {\n            render: function render() {\n              return configProps.controls.map(function (config, index) {\n                return _this2.setControl(config, key + '_' + index);\n              });\n            }\n          }));\n        } else if (configProps.controls instanceof Object) {\n          // If controls is an object then configure FormGroup\n          if (!this.form) {\n            this.configureForm();\n            propsToBePassed.control = this.form;\n          }\n          return React.createElement(FieldGroup, Object.assign({}, propsToBePassed, {\n            render: function render() {\n              return Object.keys(configProps.controls).map(function (key) {\n                return _this2.setControl(configProps.controls[key], key, key);\n              });\n            }\n          }));\n        } else {\n          warning(false, 'Missing controls in fieldConfig.');\n          return null;\n        }\n      } else {\n        return React.createElement(FieldControl, propsToBePassed);\n      }\n    }\n  }, {\n    key: 'generateFields',\n    value: function generateFields() {\n      // Reset the form instance\n      this.form = null;\n      var fieldConfig = this.props.fieldConfig;\n\n      if (fieldConfig.controls) {\n        var fields = this.setControl(fieldConfig, generateKey('my_form'));\n        return fields;\n      } else {\n        // Throw error\n        warning(false, 'Missing controls in fieldConfig.');\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var fieldConfig = this.props.fieldConfig;\n\n      if (fieldConfig) {\n        return this.generateFields();\n      }\n      return null;\n    }\n  }]);\n  return FormGenerator;\n}(React.Component);\n\n\nFormGenerator.propTypes = {\n  fieldConfig: PropTypes.shape({\n    controls: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n    strict: PropTypes.bool,\n    render: PropTypes.func,\n    name: PropTypes.string,\n    index: PropTypes.number,\n    control: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n    options: PropTypes.shape({\n      validators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n      asyncValidators: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n      updateOn: PropTypes.oneOf(['change', 'blur', 'submit'])\n    }),\n    parent: PropTypes.oneOfType([PropTypes.instanceOf(FormArray), PropTypes.instanceOf(FormGroup)]),\n    meta: PropTypes.object\n  }).isRequired,\n  onMount: PropTypes.func,\n  onUnmount: PropTypes.func\n};\nFormGenerator.defaultProps = {\n  onMount: function onMount() {\n    return null;\n  },\n  onUnmount: function onUnmount() {\n    return null;\n  }\n};\n\nexport { FormBuilder, FormGroup, FormControl, FormArray, Validators, Field, FieldGroup, FieldControl, FieldArray, FormGenerator };\n"]},"metadata":{},"sourceType":"module"}